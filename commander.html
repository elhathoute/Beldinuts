<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commander - BeldiNuts</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'warm-brown': '#8B4513',
                        'beige': '#F5F5DC',
                        'earth-green': '#8FBC8F',
                        'light-gold': '#DAA520',
                        'cream': '#FFF8DC'
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        html {
            scroll-behavior: smooth;
        }
        
        .fade-in {
            animation: fadeIn 1s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="font-sans bg-gray-50">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full bg-white/90 backdrop-blur-sm z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <div class="flex items-center">
                        <img src="beldi-nuts-logo.png" alt="BeldiNuts Logo" class="h-8 w-8 mr-3">
                        <h1 class="text-2xl font-bold text-warm-brown">BeldiNuts</h1>
                    </div>
                </div>
                <div class="hidden md:flex space-x-8 items-center">
                    <a href="index.html" class="text-warm-brown hover:text-light-gold transition-colors" data-translate="nav_home">Accueil</a>
                    <a href="index.html#apropos" class="text-warm-brown hover:text-light-gold transition-colors" data-translate="nav_about">√Ä propos</a>
                    <a href="index.html#produits" class="text-warm-brown hover:text-light-gold transition-colors" data-translate="nav_products">Produits</a>
                    <a href="commander.html" class="text-warm-brown hover:text-light-gold transition-colors bg-light-gold text-white px-4 py-2 rounded-full" data-translate="nav_order">Commander</a>
                    <a href="index.html#contact" class="text-warm-brown hover:text-light-gold transition-colors" data-translate="nav_contact">Contact</a>
                    
                    <!-- Language Selector -->
                    <div class="relative">
                        <select id="language-select" onchange="changeLanguage(this.value)" 
                                class="bg-transparent border border-warm-brown text-warm-brown px-3 py-1 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-light-gold">
                            <option value="fr">üá´üá∑ FR</option>
                            <option value="ar">üá≤üá¶ AR</option>
                            <option value="en">üá∫üá∏ EN</option>
                        </select>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-toggle" class="text-warm-brown focus:outline-none" onclick="toggleMobileMenu()">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
            
            <!-- Mobile Navigation Menu -->
            <div id="mobile-menu" class="md:hidden hidden bg-white border-t border-gray-200">
                <div class="px-4 py-4 space-y-4">
                    <a href="index.html" class="block text-warm-brown hover:text-light-gold transition-colors py-2" data-translate="nav_home">Accueil</a>
                    <a href="index.html#apropos" class="block text-warm-brown hover:text-light-gold transition-colors py-2" data-translate="nav_about">√Ä propos</a>
                    <a href="index.html#produits" class="block text-warm-brown hover:text-light-gold transition-colors py-2" data-translate="nav_products">Produits</a>
                    <a href="commander.html" class="block text-warm-brown hover:text-light-gold transition-colors bg-light-gold text-white px-4 py-2 rounded-full text-center" data-translate="nav_order">Commander</a>
                    <a href="index.html#contact" class="block text-warm-brown hover:text-light-gold transition-colors py-2" data-translate="nav_contact">Contact</a>
                    
                    <!-- Currency Selector for Mobile -->
                    <div class="pt-2">
                        <select id="currency-select-mobile" onchange="changeCurrency(this.value)" 
                                class="w-full bg-transparent border border-warm-brown text-warm-brown px-3 py-2 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-light-gold">
                            <option value="MAD">üá≤üá¶ DH (Maroc)</option>
                            <option value="EUR">üá™üá∫ EUR (Europe)</option>
                            <option value="USD">üá∫üá∏ USD (Am√©rique)</option>
                        </select>
                    </div>
                    
                    <!-- Language Selector for Mobile -->
                    <div class="pt-2">
                        <select id="language-select-mobile" onchange="changeLanguage(this.value)" 
                                class="w-full bg-transparent border border-warm-brown text-warm-brown px-3 py-2 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-light-gold">
                            <option value="fr">üá´üá∑ FR</option>
                            <option value="ar">üá≤üá¶ AR</option>
                            <option value="en">üá∫üá∏ EN</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Header Section -->
    <section class="bg-gradient-to-r from-warm-brown to-light-gold py-16 pt-24">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-4" data-translate="page_title">
                Commander vos Produits
            </h1>
            <p class="text-xl text-cream mb-6" data-translate="page_subtitle">
                S√©lectionnez vos produits pr√©f√©r√©s et commandez directement via WhatsApp
            </p>
            
        </div>
    </section>

    <!-- Products Selection -->
    <section class="py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Sale Type Selector -->
            <div class="mb-8">
                <div class="max-w-4xl mx-auto">
                    <div class="bg-white rounded-2xl shadow-lg p-6">
                        <h3 class="text-xl font-bold text-warm-brown mb-4 text-center" data-translate="sale_type_title">Type de Vente</h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <button id="retail-btn" onclick="setSaleType('retail')" 
                                    class="sale-type-btn bg-light-gold text-white py-4 px-6 rounded-full font-semibold transition-all duration-300 hover:bg-yellow-600 active">
                                <i class="fas fa-shopping-cart mr-2"></i>
                                <span data-translate="retail_sale">Vente Particuli√®re</span>
                                <div class="text-sm opacity-90" data-translate="retail_desc">Prix par gramme</div>
                            </button>
                            <button id="wholesale-btn" onclick="setSaleType('wholesale')" 
                                    class="sale-type-btn bg-gray-200 text-gray-700 py-4 px-6 rounded-full font-semibold transition-all duration-300 hover:bg-gray-300">
                                <i class="fas fa-boxes mr-2"></i>
                                <span data-translate="wholesale_sale">Vente en Gros</span>
                                <div class="text-sm opacity-90" data-translate="wholesale_desc">Prix par pi√®ce</div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Search Bar with Currency Selector -->
            <div class="mb-12">
                <div class="max-w-4xl mx-auto">
                    <div class="grid md:grid-cols-2 gap-4">
                        <!-- Search Input -->
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-search text-gray-400"></i>
                            </div>
                            <input type="text" id="product-search" 
                                   placeholder="Rechercher un produit (amandes, noix, dattes...)" 
                                   class="w-full pl-10 pr-4 py-4 border border-gray-300 rounded-full text-lg focus:ring-2 focus:ring-warm-brown focus:border-transparent shadow-lg"
                                   onkeyup="filterProducts(this.value)">
                            <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                <button onclick="clearSearch()" id="clear-search" class="text-gray-400 hover:text-warm-brown hidden">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Currency Selector -->
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-coins text-gray-400"></i>
                            </div>
                            <select id="currency-select" onchange="changeCurrency(this.value)" 
                                    class="w-full pl-10 pr-4 py-4 border border-gray-300 rounded-full text-lg focus:ring-2 focus:ring-warm-brown focus:border-transparent shadow-lg bg-white appearance-none cursor-pointer">
                                <option value="MAD">üá≤üá¶ DH (Maroc)</option>
                                <option value="EUR">üá™üá∫ EUR (Europe)</option>
                                <option value="USD">üá∫üá∏ USD (Am√©rique)</option>
                            </select>
                            <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                <i class="fas fa-chevron-down text-gray-400"></i>
                            </div>
                        </div>
                        
                    </div>
                    <p class="text-sm text-gray-600 mt-2 text-center">
                        Recherchez un produit et choisissez votre devise
                    </p>
                </div>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="products-grid">
                <!-- Product 1 -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden product-card" data-product-name="amandes du maroc">
                    <div class="h-48 bg-cover bg-center relative group" style="background-image: url('https://images.unsplash.com/photo-1582510003544-4d00b7f74220?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80')">
                        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center">
                            <button onclick="openProductModal('amandes')" class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white bg-opacity-90 hover:bg-opacity-100 text-warm-brown p-3 rounded-full shadow-lg transform hover:scale-110 transition-transform">
                                <i class="fas fa-eye text-xl"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-warm-brown mb-3" data-translate="amandes_name">Amandes du Maroc</h3>
                        <p class="text-gray-600 mb-4" data-translate="amandes_desc">
                            Amandes premium, riches en prot√©ines et vitamines E.
                        </p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-2xl font-bold text-warm-brown price-display">2.00 DH/g</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <button onclick="decreaseQuantity('amandes')" class="bg-gray-200 hover:bg-gray-300 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-minus text-sm"></i>
                                </button>
                                <input type="number" id="amandes-qty" value="0" min="0" step="10" 
                                       onchange="updateQuantity('amandes', this.value)" 
                                       oninput="updateQuantity('amandes', this.value)"
                                       class="text-lg font-semibold w-16 text-center border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                                <button onclick="increaseQuantity('amandes')" class="bg-warm-brown hover:bg-brown-700 text-white w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-plus text-sm"></i>
                                </button>
                            </div>
                            <span id="amandes-total" class="text-lg font-bold text-warm-brown">0 DH</span>
                        </div>
                    </div>
                </div>

                <!-- Product 2 -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden product-card" data-product-name="noix de grenoble">
                    <div class="h-48 bg-cover bg-center relative group" style="background-image: url('https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80')">
                        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center">
                            <button onclick="openProductModal('noix')" class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white bg-opacity-90 hover:bg-opacity-100 text-warm-brown p-3 rounded-full shadow-lg transform hover:scale-110 transition-transform">
                                <i class="fas fa-eye text-xl"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-warm-brown mb-3" data-translate="noix_name">Noix de Grenoble</h3>
                        <p class="text-gray-600 mb-4" data-translate="noix_desc">
                            Noix fra√Æches et croquantes, riches en om√©ga-3.
                        </p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-2xl font-bold text-warm-brown price-display">2.00 DH/g</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <button onclick="decreaseQuantity('noix')" class="bg-gray-200 hover:bg-gray-300 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-minus text-sm"></i>
                                </button>
                                <input type="number" id="noix-qty" value="0" min="0" step="10" 
                                       onchange="updateQuantity('noix', this.value)" 
                                       oninput="updateQuantity('noix', this.value)"
                                       class="text-lg font-semibold w-16 text-center border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                                <button onclick="increaseQuantity('noix')" class="bg-warm-brown hover:bg-brown-700 text-white w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-plus text-sm"></i>
                                </button>
                            </div>
                            <span id="noix-total" class="text-lg font-bold text-warm-brown">0 DH</span>
                        </div>
                    </div>
                </div>

                <!-- Product 3 -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden product-card" data-product-name="dattes medjool">
                    <div class="h-48 bg-cover bg-center relative group" style="background-image: url('https://images.unsplash.com/photo-1609501676725-7186f357aabc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80')">
                        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center">
                            <button onclick="openProductModal('dattes')" class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white bg-opacity-90 hover:bg-opacity-100 text-warm-brown p-3 rounded-full shadow-lg transform hover:scale-110 transition-transform">
                                <i class="fas fa-eye text-xl"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-warm-brown mb-3" data-translate="dattes_name">Dattes Medjool</h3>
                        <p class="text-gray-600 mb-4" data-translate="dattes_desc">
                            Dattes sucr√©es et moelleuses, source naturelle d'√©nergie.
                        </p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-2xl font-bold text-warm-brown price-display">2.00 DH/g</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <button onclick="decreaseQuantity('dattes')" class="bg-gray-200 hover:bg-gray-300 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-minus text-sm"></i>
                                </button>
                                <input type="number" id="dattes-qty" value="0" min="0" step="10" 
                                       onchange="updateQuantity('dattes', this.value)" 
                                       oninput="updateQuantity('dattes', this.value)"
                                       class="text-lg font-semibold w-16 text-center border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                                <button onclick="increaseQuantity('dattes')" class="bg-warm-brown hover:bg-brown-700 text-white w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-plus text-sm"></i>
                                </button>
                            </div>
                            <span id="dattes-total" class="text-lg font-bold text-warm-brown">0 DH</span>
                        </div>
                    </div>
                </div>

                <!-- Product 4 -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden product-card" data-product-name="noix de cajou">
                    <div class="h-48 bg-cover bg-center relative group" style="background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRTNVd4yBltrmFEHw8_3POIVnTznXbzjBOQ6BbWewEDXRqVGZfiBMkobsynGN_E0A5x37ytvpAjwfgYdYMTRfsAc3ik02cIO5Y6Hnb8hxg')">
                        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center">
                            <button onclick="openProductModal('cajou')" class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white bg-opacity-90 hover:bg-opacity-100 text-warm-brown p-3 rounded-full shadow-lg transform hover:scale-110 transition-transform">
                                <i class="fas fa-eye text-xl"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-warm-brown mb-3" data-translate="cajou_name">Noix de Cajou</h3>
                        <p class="text-gray-600 mb-4" data-translate="cajou_desc">
                            Cajous grill√©s √† sec, sans huile ajout√©e.
                        </p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-2xl font-bold text-warm-brown price-display">2.00 DH/g</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <button onclick="decreaseQuantity('cajou')" class="bg-gray-200 hover:bg-gray-300 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-minus text-sm"></i>
                                </button>
                                <input type="number" id="cajou-qty" value="0" min="0" step="10" 
                                       onchange="updateQuantity('cajou', this.value)" 
                                       oninput="updateQuantity('cajou', this.value)"
                                       class="text-lg font-semibold w-16 text-center border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                                <button onclick="increaseQuantity('cajou')" class="bg-warm-brown hover:bg-brown-700 text-white w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-plus text-sm"></i>
                                </button>
                            </div>
                            <span id="cajou-total" class="text-lg font-bold text-warm-brown">0 DH</span>
                        </div>
                    </div>
                </div>

                <!-- Product 5 -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden product-card" data-product-name="raisins secs">
                    <div class="h-48 bg-cover bg-center relative group" style="background-image: url('https://www.calconut.com/wp-content/uploads/2021/08/zoom-fotonoticia-371.jpg')">
                        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center">
                            <button onclick="openProductModal('raisins')" class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white bg-opacity-90 hover:bg-opacity-100 text-warm-brown p-3 rounded-full shadow-lg transform hover:scale-110 transition-transform">
                                <i class="fas fa-eye text-xl"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-warm-brown mb-3" data-translate="raisins_name">Raisins Secs</h3>
                        <p class="text-gray-600 mb-4" data-translate="raisins_desc">
                            Raisins secs sans sulfites, naturellement sucr√©s.
                        </p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-2xl font-bold text-warm-brown price-display">2.00 DH/g</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <button onclick="decreaseQuantity('raisins')" class="bg-gray-200 hover:bg-gray-300 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-minus text-sm"></i>
                                </button>
                                <input type="number" id="raisins-qty" value="0" min="0" step="10" 
                                       onchange="updateQuantity('raisins', this.value)" 
                                       oninput="updateQuantity('raisins', this.value)"
                                       class="text-lg font-semibold w-16 text-center border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                                <button onclick="increaseQuantity('raisins')" class="bg-warm-brown hover:bg-brown-700 text-white w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-plus text-sm"></i>
                                </button>
                            </div>
                            <span id="raisins-total" class="text-lg font-bold text-warm-brown">0 DH</span>
                        </div>
                    </div>
                </div>

                <!-- Product 6 -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden product-card" data-product-name="m√©lange premium">
                    <div class="h-48 bg-cover bg-center relative group" style="background-image: url('https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80')">
                        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center">
                            <button onclick="openProductModal('melange')" class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white bg-opacity-90 hover:bg-opacity-100 text-warm-brown p-3 rounded-full shadow-lg transform hover:scale-110 transition-transform">
                                <i class="fas fa-eye text-xl"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-warm-brown mb-3" data-translate="melange_name">M√©lange Premium</h3>
                        <p class="text-gray-600 mb-4" data-translate="melange_desc">
                            M√©lange exclusif d'amandes, noix, dattes et raisins.
                        </p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-2xl font-bold text-warm-brown price-display">2.00 DH/g</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <button onclick="decreaseQuantity('melange')" class="bg-gray-200 hover:bg-gray-300 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-minus text-sm"></i>
                                </button>
                                <input type="number" id="melange-qty" value="0" min="0" step="10" 
                                       onchange="updateQuantity('melange', this.value)" 
                                       oninput="updateQuantity('melange', this.value)"
                                       class="text-lg font-semibold w-16 text-center border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                                <button onclick="increaseQuantity('melange')" class="bg-warm-brown hover:bg-brown-700 text-white w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-plus text-sm"></i>
                                </button>
                            </div>
                            <span id="melange-total" class="text-lg font-bold text-warm-brown">0 DH</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Customer Information -->
    <section class="py-16 bg-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-white rounded-2xl shadow-lg p-8">
                <h2 class="text-2xl font-bold text-warm-brown mb-6 text-center" data-translate="customer_info_title">Vos Informations</h2>
                
                <form id="customer-form" class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label for="customer-name" class="block text-sm font-medium text-gray-700 mb-2" data-translate="name_label">Nom complet *</label>
                        <input type="text" id="customer-name" name="name" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                    </div>
                    
                    <div>
                        <label for="customer-email" class="block text-sm font-medium text-gray-700 mb-2" data-translate="email_label">Email *</label>
                        <input type="email" id="customer-email" name="email" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                    </div>
                    
                    <div>
                        <label for="customer-phone" class="block text-sm font-medium text-gray-700 mb-2" data-translate="phone_label">T√©l√©phone *</label>
                        <input type="tel" id="customer-phone" name="phone" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                    </div>
                    
                    <div>
                        <label for="delivery-date" class="block text-sm font-medium text-gray-700 mb-2" data-translate="delivery_date_label">Date de livraison souhait√©e *</label>
                        <input type="date" id="delivery-date" name="delivery-date" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                    </div>
                    
                    <div class="md:col-span-2">
                        <label for="delivery-address" class="block text-sm font-medium text-gray-700 mb-2" data-translate="address_label">Adresse de livraison compl√®te *</label>
                        <textarea id="delivery-address" name="address" rows="3" required 
                                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-warm-brown focus:border-transparent"
                                  placeholder="Rue, num√©ro, ville, code postal..."></textarea>
                    </div>
                    
                    <div class="md:col-span-2">
                        <label for="delivery-notes" class="block text-sm font-medium text-gray-700 mb-2" data-translate="notes_label">Notes de livraison (optionnel)</label>
                        <textarea id="delivery-notes" name="notes" rows="2" 
                                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-warm-brown focus:border-transparent"
                                  placeholder="Instructions sp√©ciales, horaires pr√©f√©r√©s..."></textarea>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Order Summary -->
    <section class="py-16 bg-beige">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-white rounded-2xl shadow-lg p-8">
                <h2 class="text-2xl font-bold text-warm-brown mb-6 text-center" data-translate="order_summary_title">R√©sum√© de votre commande</h2>
                
                <div id="order-summary" class="space-y-4 mb-8">
                    <!-- Order items will be populated here -->
                </div>
                
                <div class="border-t pt-6">
                    <div class="flex justify-between items-center mb-6">
                        <span class="text-xl font-bold text-warm-brown" data-translate="total_label">Total:</span>
                        <span id="grand-total" class="text-2xl font-bold text-warm-brown">0‚Ç¨</span>
                    </div>
                    
                    <!-- Paiement √©chelonn√© (uniquement pour vente en gros) -->
                    <div id="installment-section" class="mb-6 p-4 bg-blue-50 rounded-lg" style="display: none;">
                        <h4 class="text-lg font-semibold text-blue-800 mb-3">
                            <i class="fas fa-credit-card mr-2"></i>
                            <span data-translate="installment_title">Paiement √âchelonn√©</span>
                        </h4>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Nombre d'√©ch√©ances
                                </label>
                                <select id="installment-count" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="1">Paiement unique</option>
                                    <option value="2">2 √©ch√©ances</option>
                                    <option value="3">3 √©ch√©ances</option>
                                    <option value="6">6 √©ch√©ances</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Montant par √©ch√©ance
                                </label>
                                <div id="installment-amount" class="text-lg font-bold text-blue-600">
                                    -- DH
                                </div>
                            </div>
                        </div>
                        <p class="text-sm text-gray-600 mt-2">
                            <i class="fas fa-info-circle mr-1"></i>
                            Le paiement √©chelonn√© est disponible uniquement pour les commandes en gros (minimum 500 DH)
                        </p>
                    </div>

                    <div class="text-center">
                        <button id="whatsapp-order" onclick="sendToWhatsApp()" 
                                class="bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-8 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"
                                disabled>
                            <i class="fab fa-whatsapp mr-2"></i>
                            Commander via WhatsApp
                        </button>
                        <p class="text-sm text-gray-600 mt-2">
                            Vous serez redirig√© vers WhatsApp pour finaliser votre commande
                        </p>
                        <p class="text-sm text-warm-brown mt-1 font-semibold" id="min-order-text">
                            Commande minimum : 100 DH (50g minimum)
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h3 class="text-2xl font-bold text-light-gold mb-4">Beldinuts</h3>
            <p class="text-gray-300 mb-4">
                Votre partenaire pour une alimentation saine et naturelle
            </p>
            <div class="flex justify-center space-x-6">
                <a href="index.html" class="text-gray-300 hover:text-light-gold transition-colors">Accueil</a>
                <a href="index.html#produits" class="text-gray-300 hover:text-light-gold transition-colors">Produits</a>
                <a href="index.html#contact" class="text-gray-300 hover:text-light-gold transition-colors">Contact</a>
            </div>
        </div>
    </footer>

    <script>
        // Product data - Prix de base en DH par gramme (2 DH/g)
        const products = {
            amandes: { name: 'Amandes du Maroc', basePrice: 2 },
            noix: { name: 'Noix de Grenoble', basePrice: 2 },
            dattes: { name: 'Dattes Medjool', basePrice: 2 },
            cajou: { name: 'Noix de Cajou', basePrice: 2 },
            raisins: { name: 'Raisins Secs', basePrice: 2 },
            melange: { name: 'M√©lange Premium', basePrice: 2 }
        };

        // Detailed product information for modal
        const productDetails = {
            amandes: {
                name: 'Amandes du Maroc',
                description: 'Amandes premium s√©lectionn√©es dans les meilleures r√©gions du Maroc. Riches en prot√©ines, vitamines E et magn√©sium, elles sont parfaites pour une alimentation saine et √©quilibr√©e.',
                image: 'https://images.unsplash.com/photo-1582510003544-4d00b7f74220?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80',
                benefits: [
                    'Riches en prot√©ines v√©g√©tales (21g/100g)',
                    'Excellente source de vitamine E (antioxydant)',
                    'Contiennent du magn√©sium pour la sant√© cardiaque',
                    'Riches en fibres pour une bonne digestion',
                    'Aident √† r√©duire le cholest√©rol',
                    'Parfaites pour les sportifs et v√©g√©tariens'
                ],
                usage: [
                    'Collation saine entre les repas',
                    'Ajout dans les salades et yaourts',
                    'Ingr√©dient pour p√¢tisseries et desserts',
                    'M√©lange avec d\'autres fruits secs',
                    'Consommation avant ou apr√®s le sport'
                ],
                storage: 'Conserver dans un endroit frais et sec, √† l\'abri de la lumi√®re. Peuvent √™tre conserv√©es jusqu\'√† 12 mois dans un r√©cipient herm√©tique.'
            },
            noix: {
                name: 'Noix de Grenoble',
                description: 'Noix fra√Æches et croquantes de Grenoble, r√©put√©es pour leur qualit√© exceptionnelle. Riches en om√©ga-3, elles contribuent √† la sant√© cardiovasculaire et c√©r√©brale.',
                image: 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80',
                benefits: [
                    'Riches en om√©ga-3 (acides gras essentiels)',
                    'Am√©liorent la sant√© cardiovasculaire',
                    'B√©n√©fiques pour le cerveau et la m√©moire',
                    'Contiennent des antioxydants puissants',
                    'Riches en prot√©ines et fibres',
                    'Aident √† r√©duire l\'inflammation'
                ],
                usage: [
                    'Ajout dans les salades vertes',
                    'Ingr√©dient pour p√¢tisseries et g√¢teaux',
                    'Consommation avec du fromage',
                    'M√©lange dans les c√©r√©ales du matin',
                    'Snack sain pour l\'ap√©ritif'
                ],
                storage: 'Conserver au r√©frig√©rateur dans un r√©cipient herm√©tique pour pr√©server leur fra√Æcheur. Peuvent √™tre congel√©es pour une conservation plus longue.'
            },
            dattes: {
                name: 'Dattes Medjool',
                description: 'Dattes Medjool, les "rois des dattes", sont r√©put√©es pour leur go√ªt sucr√© naturel et leur texture moelleuse. Source naturelle d\'√©nergie, elles sont parfaites pour les sportifs.',
                image: 'https://images.unsplash.com/photo-1609501676725-7186f357aabc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80',
                benefits: [
                    'Source naturelle d\'√©nergie rapide',
                    'Riches en potassium et magn√©sium',
                    'Contiennent des fibres pour la digestion',
                    'Riches en antioxydants',
                    'Aident √† r√©guler la glyc√©mie',
                    'Parfaites pour les sportifs'
                ],
                usage: [
                    'Collation √©nerg√©tique naturelle',
                    'Remplacement du sucre dans les desserts',
                    'Ingr√©dient dans les smoothies',
                    'Consommation avant l\'effort physique',
                    'M√©lange avec des noix pour un snack √©quilibr√©'
                ],
                storage: 'Conserver dans un endroit frais et sec. Peuvent √™tre conserv√©es plusieurs mois. Pour une fra√Æcheur optimale, conserver au r√©frig√©rateur.'
            },
            cajou: {
                name: 'Noix de Cajou',
                description: 'Noix de cajou grill√©es √† sec, sans huile ajout√©e. Croquantes et d√©licieuses, elles sont riches en prot√©ines et min√©raux essentiels pour une alimentation √©quilibr√©e.',
                image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRTNVd4yBltrmFEHw8_3POIVnTznXbzjBOQ6BbWewEDXRqVGZfiBMkobsynGN_E0A5x37ytvpAjwfgYdYMTRfsAc3ik02cIO5Y6Hnb8hxg',
                benefits: [
                    'Riches en prot√©ines v√©g√©tales (18g/100g)',
                    'Excellente source de magn√©sium',
                    'Contiennent du zinc pour l\'immunit√©',
                    'Riches en cuivre et phosphore',
                    'Aident √† maintenir la sant√© osseuse',
                    'Contiennent des graisses monoinsatur√©es'
                ],
                usage: [
                    'Snack parfait pour l\'ap√©ritif',
                    'Ajout dans les plats asiatiques',
                    'Ingr√©dient dans les salades',
                    'M√©lange avec d\'autres fruits secs',
                    'Consommation comme collation saine'
                ],
                storage: 'Conserver dans un r√©cipient herm√©tique √† l\'abri de la lumi√®re et de l\'humidit√©. Peuvent √™tre conserv√©es jusqu\'√† 6 mois dans de bonnes conditions.'
            },
            raisins: {
                name: 'Raisins Secs',
                description: 'Raisins secs sans sulfites, naturellement sucr√©s. Excellente source d\'√©nergie et de fibres, ils sont parfaits pour les sportifs et les enfants.',
                image: 'https://www.calconut.com/wp-content/uploads/2021/08/zoom-fotonoticia-371.jpg',
                benefits: [
                    'Source naturelle d\'√©nergie',
                    'Riches en fibres pour la digestion',
                    'Contiennent des antioxydants',
                    'Riches en potassium et fer',
                    'Aident √† maintenir l\'√©nergie',
                    'Sans sulfites ajout√©s'
                ],
                usage: [
                    'Collation √©nerg√©tique',
                    'Ajout dans les c√©r√©ales',
                    'Ingr√©dient dans les p√¢tisseries',
                    'M√©lange dans les salades',
                    'Consommation pendant le sport'
                ],
                storage: 'Conserver dans un endroit frais et sec, √† l\'abri de la lumi√®re. Peuvent √™tre conserv√©s plusieurs mois dans un r√©cipient herm√©tique.'
            },
            melange: {
                name: 'M√©lange Premium',
                description: 'M√©lange exclusif d\'amandes, noix, dattes et raisins secs. L\'√©quilibre parfait entre saveurs et nutriments pour une alimentation saine et vari√©e.',
                image: 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80',
                benefits: [
                    'Combinaison √©quilibr√©e de nutriments',
                    'Riches en prot√©ines et fibres',
                    'Source d\'√©nergie naturelle',
                    'Contiennent des vitamines et min√©raux',
                    'Antioxydants vari√©s',
                    'Parfait pour une alimentation √©quilibr√©e'
                ],
                usage: [
                    'Collation compl√®te et √©quilibr√©e',
                    'En-cas pour le sport',
                    'M√©lange pour petit-d√©jeuner',
                    'Snack pour les enfants',
                    'Ingr√©dient dans les desserts'
                ],
                storage: 'Conserver dans un endroit frais et sec. M√©lange optimal de conservation pour tous les ingr√©dients. Conserver dans un r√©cipient herm√©tique.'
            }
        };

        // Taux de change (approximatifs - taux r√©els 2024)
        const exchangeRates = {
            MAD: 1,      // Dirham marocain (devise de base)
            EUR: 0.092,  // 1 DH = 0.092 EUR (environ 10.87 DH = 1 EUR)
            USD: 0.099   // 1 DH = 0.099 USD (environ 10.10 DH = 1 USD)
        };

        // Devise actuelle
        let currentCurrency = 'MAD';
        
        // Langue actuelle
        let currentLanguage = 'fr';
        
        // Type de vente actuel
        let saleType = 'retail'; // 'retail' ou 'wholesale'
        
        // Dictionnaire de traductions
        const translations = {
            fr: {
                nav_home: "Accueil",
                nav_about: "√Ä propos",
                nav_products: "Produits",
                nav_order: "Commander",
                nav_contact: "Contact",
                page_title: "Commander vos Produits",
                page_subtitle: "S√©lectionnez vos produits pr√©f√©r√©s et commandez directement via WhatsApp",
                search_placeholder: "Rechercher un produit (amandes, noix, dattes...)",
                search_help: "Recherchez un produit et choisissez votre devise",
                customer_info_title: "Vos Informations",
                name_label: "Nom complet",
                email_label: "Email",
                phone_label: "T√©l√©phone",
                delivery_date_label: "Date de livraison souhait√©e",
                address_label: "Adresse de livraison compl√®te",
                address_placeholder: "Rue, num√©ro, ville, code postal...",
                notes_label: "Notes de livraison (optionnel)",
                notes_placeholder: "Instructions sp√©ciales, horaires pr√©f√©r√©s...",
                order_summary_title: "R√©sum√© de votre commande",
                total_label: "Total:",
                whatsapp_button: "Commander via WhatsApp",
                whatsapp_help: "Vous serez redirig√© vers WhatsApp pour finaliser votre commande",
                min_order: "Commande minimum : 100 DH (50g minimum)",
                no_products: "Aucun produit s√©lectionn√©",
                no_results_title: "Aucun produit trouv√©",
                no_results_text: "Essayez avec d'autres mots-cl√©s comme \"amandes\", \"noix\", \"dattes\"...",
                amandes_name: "Amandes du Maroc",
                amandes_desc: "Amandes premium, riches en prot√©ines et vitamines E.",
                noix_name: "Noix de Grenoble",
                noix_desc: "Noix fra√Æches et croquantes, riches en om√©ga-3.",
                dattes_name: "Dattes Medjool",
                dattes_desc: "Dattes sucr√©es et moelleuses, source naturelle d'√©nergie.",
                cajou_name: "Noix de Cajou",
                cajou_desc: "Cajous grill√©s √† sec, sans huile ajout√©e.",
                raisins_name: "Raisins Secs",
                raisins_desc: "Raisins secs sans sulfites, naturellement sucr√©s.",
                melange_name: "M√©lange Premium",
                melange_desc: "M√©lange exclusif d'amandes, noix, dattes et raisins.",
                sale_type_title: "Type de Vente",
                retail_sale: "Vente Particuli√®re",
                retail_desc: "Prix par gramme",
                wholesale_sale: "Vente en Gros",
                wholesale_desc: "Prix par pi√®ce",
                installment_title: "Paiement √âchelonn√©"
            },
            ar: {
                nav_home: "ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©",
                nav_about: "ŸÖŸÜ ŸÜÿ≠ŸÜ",
                nav_products: "ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™",
                nav_order: "ÿßÿ∑ŸÑÿ®",
                nav_contact: "ÿßÿ™ÿµŸÑ ÿ®ŸÜÿß",
                page_title: "ÿßÿ∑ŸÑÿ® ŸÖŸÜÿ™ÿ¨ÿßÿ™ŸÉ",
                page_subtitle: "ÿßÿÆÿ™ÿ± ŸÖŸÜÿ™ÿ¨ÿßÿ™ŸÉ ÿßŸÑŸÖŸÅÿ∂ŸÑÿ© Ÿàÿßÿ∑ŸÑÿ® ŸÖÿ®ÿßÿ¥ÿ±ÿ© ÿπÿ®ÿ± Ÿàÿßÿ™ÿ≥ÿßÿ®",
                search_placeholder: "ÿßŸÑÿ®ÿ≠ÿ´ ÿπŸÜ ŸÖŸÜÿ™ÿ¨ (ŸÑŸàÿ≤ÿå ÿ¨Ÿàÿ≤ÿå ÿ™ŸÖÿ±...)",
                search_help: "ÿßÿ®ÿ≠ÿ´ ÿπŸÜ ŸÖŸÜÿ™ÿ¨ ŸàÿßÿÆÿ™ÿ± ÿπŸÖŸÑÿ™ŸÉ",
                customer_info_title: "ŸÖÿπŸÑŸàŸÖÿßÿ™ŸÉ",
                name_label: "ÿßŸÑÿßÿ≥ŸÖ ÿßŸÑŸÉÿßŸÖŸÑ",
                email_label: "ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä",
                phone_label: "ÿßŸÑŸáÿßÿ™ŸÅ",
                delivery_date_label: "ÿ™ÿßÿ±ŸäÿÆ ÿßŸÑÿ™ÿ≥ŸÑŸäŸÖ ÿßŸÑŸÖÿ∑ŸÑŸàÿ®",
                address_label: "ÿπŸÜŸàÿßŸÜ ÿßŸÑÿ™ÿ≥ŸÑŸäŸÖ ÿßŸÑŸÉÿßŸÖŸÑ",
                address_placeholder: "ÿßŸÑÿ¥ÿßÿ±ÿπÿå ÿßŸÑÿ±ŸÇŸÖÿå ÿßŸÑŸÖÿØŸäŸÜÿ©ÿå ÿßŸÑÿ±ŸÖÿ≤ ÿßŸÑÿ®ÿ±ŸäÿØŸä...",
                notes_label: "ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™ ÿßŸÑÿ™ÿ≥ŸÑŸäŸÖ (ÿßÿÆÿ™Ÿäÿßÿ±Ÿä)",
                notes_placeholder: "ÿ™ÿπŸÑŸäŸÖÿßÿ™ ÿÆÿßÿµÿ©ÿå ÿ£ŸàŸÇÿßÿ™ ŸÖŸÅÿ∂ŸÑÿ©...",
                order_summary_title: "ŸÖŸÑÿÆÿµ ÿ∑ŸÑÿ®ŸÉ",
                total_label: "ÿßŸÑŸÖÿ¨ŸÖŸàÿπ:",
                whatsapp_button: "ÿßÿ∑ŸÑÿ® ÿπÿ®ÿ± Ÿàÿßÿ™ÿ≥ÿßÿ®",
                whatsapp_help: "ÿ≥Ÿäÿ™ŸÖ ÿ™Ÿàÿ¨ŸäŸáŸÉ ÿ•ŸÑŸâ Ÿàÿßÿ™ÿ≥ÿßÿ® ŸÑÿ•ÿ™ŸÖÿßŸÖ ÿ∑ŸÑÿ®ŸÉ",
                min_order: "ÿßŸÑÿ≠ÿØ ÿßŸÑÿ£ÿØŸÜŸâ ŸÑŸÑÿ∑ŸÑÿ®: 100 ÿØÿ±ŸáŸÖ (50 ÿ¨ÿ±ÿßŸÖ ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ)",
                no_products: "ŸÑŸÖ Ÿäÿ™ŸÖ ÿßÿÆÿ™Ÿäÿßÿ± ÿ£Ÿä ŸÖŸÜÿ™ÿ¨",
                no_results_title: "ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ŸÖŸÜÿ™ÿ¨ÿßÿ™",
                no_results_text: "ÿ¨ÿ±ÿ® ŸÉŸÑŸÖÿßÿ™ ŸÖŸÅÿ™ÿßÿ≠Ÿäÿ© ÿ£ÿÆÿ±Ÿâ ŸÖÿ´ŸÑ \"ŸÑŸàÿ≤\"ÿå \"ÿ¨Ÿàÿ≤\"ÿå \"ÿ™ŸÖÿ±\"...",
                amandes_name: "ŸÑŸàÿ≤ ÿßŸÑŸÖÿ∫ÿ±ÿ®",
                amandes_desc: "ŸÑŸàÿ≤ ŸÖŸÖÿ™ÿßÿ≤ÿå ÿ∫ŸÜŸä ÿ®ÿßŸÑÿ®ÿ±Ÿàÿ™ŸäŸÜÿßÿ™ ŸàŸÅŸäÿ™ÿßŸÖŸäŸÜ E.",
                noix_name: "ÿ¨Ÿàÿ≤ ÿ∫ÿ±ŸäŸÜŸàÿ®ŸÑ",
                noix_desc: "ÿ¨Ÿàÿ≤ ÿ∑ÿßÿ≤ÿ¨ ŸàŸÖŸÇÿ±ŸÖÿ¥ÿå ÿ∫ŸÜŸä ÿ®ÿ£ŸàŸÖŸäÿ∫ÿß 3.",
                dattes_name: "ÿ™ŸÖÿ± ŸÖÿ¨ŸáŸàŸÑ",
                dattes_desc: "ÿ™ŸÖÿ± ÿ≠ŸÑŸà Ÿàÿ∑ÿ±Ÿäÿå ŸÖÿµÿØÿ± ÿ∑ÿ®ŸäÿπŸä ŸÑŸÑÿ∑ÿßŸÇÿ©.",
                cajou_name: "ŸÉÿßÿ¨Ÿà",
                cajou_desc: "ŸÉÿßÿ¨Ÿà ŸÖÿ≠ŸÖÿµ ÿ¨ÿßŸÅÿå ÿ®ÿØŸàŸÜ ÿ≤Ÿäÿ™ ŸÖÿ∂ÿßŸÅ.",
                raisins_name: "ÿ≤ÿ®Ÿäÿ®",
                raisins_desc: "ÿ≤ÿ®Ÿäÿ® ÿ®ÿØŸàŸÜ ŸÉÿ®ÿ±Ÿäÿ™ÿßÿ™ÿå ÿ≠ŸÑŸà ÿ∑ÿ®ŸäÿπŸäÿßŸã.",
                melange_name: "ÿÆŸÑŸäÿ∑ ŸÖŸÖÿ™ÿßÿ≤",
                melange_desc: "ÿÆŸÑŸäÿ∑ ÿ≠ÿµÿ±Ÿä ŸÖŸÜ ÿßŸÑŸÑŸàÿ≤ ŸàÿßŸÑÿ¨Ÿàÿ≤ ŸàÿßŸÑÿ™ŸÖÿ± ŸàÿßŸÑÿ≤ÿ®Ÿäÿ®.",
                sale_type_title: "ŸÜŸàÿπ ÿßŸÑÿ®Ÿäÿπ",
                retail_sale: "ÿ®Ÿäÿπ ÿ®ÿßŸÑÿ™ÿ¨ÿ≤ÿ¶ÿ©",
                retail_desc: "ÿ≥ÿπÿ± ÿ®ÿßŸÑÿ∫ÿ±ÿßŸÖ",
                wholesale_sale: "ÿ®Ÿäÿπ ÿ®ÿßŸÑÿ¨ŸÖŸÑÿ©",
                wholesale_desc: "ÿ≥ÿπÿ± ÿ®ÿßŸÑŸÇÿ∑ÿπÿ©",
                installment_title: "ÿßŸÑÿØŸÅÿπ ÿπŸÑŸâ ÿ£ŸÇÿ≥ÿßÿ∑"
            },
            en: {
                nav_home: "Home",
                nav_about: "About",
                nav_products: "Products",
                nav_order: "Order",
                nav_contact: "Contact",
                page_title: "Order Your Products",
                page_subtitle: "Select your favorite products and order directly via WhatsApp",
                search_placeholder: "Search for a product (almonds, nuts, dates...)",
                search_help: "Search for a product and choose your currency",
                customer_info_title: "Your Information",
                name_label: "Full Name",
                email_label: "Email",
                phone_label: "Phone",
                delivery_date_label: "Preferred delivery date",
                address_label: "Complete delivery address",
                address_placeholder: "Street, number, city, postal code...",
                notes_label: "Delivery notes (optional)",
                notes_placeholder: "Special instructions, preferred times...",
                order_summary_title: "Order Summary",
                total_label: "Total:",
                whatsapp_button: "Order via WhatsApp",
                whatsapp_help: "You will be redirected to WhatsApp to finalize your order",
                min_order: "Minimum order: 100 DH (50g minimum)",
                no_products: "No products selected",
                no_results_title: "No products found",
                no_results_text: "Try other keywords like \"almonds\", \"nuts\", \"dates\"...",
                amandes_name: "Moroccan Almonds",
                amandes_desc: "Premium almonds, rich in proteins and vitamin E.",
                noix_name: "Grenoble Walnuts",
                noix_desc: "Fresh and crunchy walnuts, rich in omega-3.",
                dattes_name: "Medjool Dates",
                dattes_desc: "Sweet and soft dates, natural source of energy.",
                cajou_name: "Cashew Nuts",
                cajou_desc: "Dry roasted cashews, without added oil.",
                raisins_name: "Dried Grapes",
                raisins_desc: "Sulfite-free raisins, naturally sweet.",
                melange_name: "Premium Mix",
                melange_desc: "Exclusive blend of almonds, walnuts, dates and raisins.",
                sale_type_title: "Sale Type",
                retail_sale: "Retail Sale",
                retail_desc: "Price per gram",
                wholesale_sale: "Wholesale Sale",
                wholesale_desc: "Price per piece",
                installment_title: "Installment Payment"
            }
        };

        // Donn√©es de vente en gros
        const wholesaleProducts = {
            amandes: {
                name: "Amandes du Maroc",
                pricePerPiece: 600, // DH par pi√®ce
                weightPerPiece: 5, // kg par pi√®ce
                packaging: "Sac de 5 kg"
            },
            noix: {
                name: "Noix de Grenoble", 
                pricePerPiece: 500,
                weightPerPiece: 5,
                packaging: "Sac de 5 kg"
            },
            dattes: {
                name: "Dattes Medjool",
                pricePerPiece: 400,
                weightPerPiece: 5,
                packaging: "Sac de 5 kg"
            },
            cajou: {
                name: "Noix de Cajou",
                pricePerPiece: 600,
                weightPerPiece: 5,
                packaging: "Sac de 5 kg"
            },
            raisins: {
                name: "Raisins Secs",
                pricePerPiece: 300,
                weightPerPiece: 5,
                packaging: "Sac de 5 kg"
            },
            melange: {
                name: "M√©lange Premium",
                pricePerPiece: 550,
                weightPerPiece: 5,
                packaging: "Sac de 5 kg"
            }
        };

        // Cart state
        let cart = {};

        // Initialize cart
        Object.keys(products).forEach(productId => {
            cart[productId] = 0;
        });
        
        // Initialiser l'affichage des prix
        updateAllPrices();
        updateMinOrderText();

        // Fonction pour changer la devise
        function changeCurrency(currency) {
            console.log('Changement de devise vers:', currency);
            currentCurrency = currency;
            
            // Mettre √† jour les s√©lecteurs de devise
            const desktopSelect = document.getElementById('currency-select');
            const mobileSelect = document.getElementById('currency-select-mobile');
            if (desktopSelect) desktopSelect.value = currency;
            if (mobileSelect) mobileSelect.value = currency;
            
            // Mettre √† jour tous les prix affich√©s
            updateAllPrices();
            
            // Mettre √† jour tous les totaux des produits s√©lectionn√©s
            Object.keys(cart).forEach(productId => {
                updateProductDisplay(productId);
            });
            
            // Mettre √† jour le r√©sum√© de commande
            updateOrderSummary();
            
            // Mettre √† jour le texte de commande minimum
            updateMinOrderText();
            
            // Mettre √† jour la section paiement √©chelonn√©
            updateInstallmentSection();
        }
        
        // Fonction pour changer la langue
        function changeLanguage(language) {
            currentLanguage = language;
            document.documentElement.lang = language;
            
            // Mettre √† jour tous les √©l√©ments avec data-translate
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[language] && translations[language][key]) {
                    element.textContent = translations[language][key];
                }
            });
            
            // Mettre √† jour les placeholders
            const searchInput = document.getElementById('product-search');
            if (searchInput && translations[language].search_placeholder) {
                searchInput.placeholder = translations[language].search_placeholder;
            }
        }
        
        // Fonction pour changer le type de vente
        function setSaleType(type) {
            saleType = type;
            
            // Mettre √† jour les boutons
            document.querySelectorAll('.sale-type-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-light-gold', 'text-white');
                btn.classList.add('bg-gray-200', 'text-gray-700');
            });
            
            if (type === 'retail') {
                document.getElementById('retail-btn').classList.add('active', 'bg-light-gold', 'text-white');
                document.getElementById('retail-btn').classList.remove('bg-gray-200', 'text-gray-700');
            } else {
                document.getElementById('wholesale-btn').classList.add('active', 'bg-light-gold', 'text-white');
                document.getElementById('wholesale-btn').classList.remove('bg-gray-200', 'text-gray-700');
            }
            
            // R√©initialiser le panier
            Object.keys(cart).forEach(productId => {
                cart[productId] = 0;
            });
            
            // Mettre √† jour l'affichage des produits
            updateAllPrices(); // Mettre √† jour les prix affich√©s
            updateAllProductsDisplay();
            updateOrderSummary();
            updateInstallmentSection();
            updateMinOrderText(); // Mettre √† jour le texte de commande minimum
        }
        
        // Fonction pour mettre √† jour la section paiement √©chelonn√©
        function updateInstallmentSection() {
            const installmentSection = document.getElementById('installment-section');
            const installmentCount = document.getElementById('installment-count');
            const installmentAmount = document.getElementById('installment-amount');
            
            if (saleType === 'wholesale') {
                installmentSection.style.display = 'block';
                
                // Calculer le total actuel
                let total = 0;
                Object.keys(cart).forEach(productId => {
                    if (cart[productId] > 0) {
                        if (saleType === 'wholesale') {
                            const basePrice = 6; // Prix fixe 6 DH/pi√®ce
                            const pricePerPiece = basePrice * exchangeRates[currentCurrency];
                            total += cart[productId] * pricePerPiece;
                        } else {
                            const basePrice = products[productId].basePrice;
                            const pricePerGram = basePrice * exchangeRates[currentCurrency];
                            total += cart[productId] * pricePerGram;
                        }
                    }
                });
                
                // Mettre √† jour le montant par √©ch√©ance
                const count = parseInt(installmentCount.value) || 1;
                const amountPerInstallment = total / count;
                installmentAmount.textContent = `${amountPerInstallment.toFixed(2)} ${getCurrencySymbol()}`;
                
                // √âcouter les changements du nombre d'√©ch√©ances
                installmentCount.onchange = function() {
                    const newCount = parseInt(this.value) || 1;
                    const newAmount = total / newCount;
                    installmentAmount.textContent = `${newAmount.toFixed(2)} ${getCurrencySymbol()}`;
                };
            } else {
                installmentSection.style.display = 'none';
            }
        }

        // Fonction pour mettre √† jour le texte de minimum de commande
        function updateMinOrderText() {
            const minOrderElement = document.getElementById('min-order-text');
            if (minOrderElement) {
                let minOrderAmount;
                let minOrderText;
                
                if (saleType === 'wholesale') {
                    minOrderAmount = 500 * exchangeRates[currentCurrency];
                    minOrderText = `Commande minimum : ${minOrderAmount.toFixed(2)} ${getCurrencySymbol()} (vente en gros)`;
                } else {
                    minOrderAmount = 100 * exchangeRates[currentCurrency];
                    minOrderText = `Commande minimum : ${minOrderAmount.toFixed(2)} ${getCurrencySymbol()} (50g minimum)`;
                }
                
                minOrderElement.textContent = minOrderText;
            }
        }

        // Fonction pour obtenir le prix dans la devise actuelle
        function getPrice(productId) {
            if (saleType === 'wholesale') {
                // Prix fixe de 6 DH/pi√®ce pour la vente en gros
                const basePrice = 6; // Prix fixe 6 DH/pi√®ce
                return basePrice * exchangeRates[currentCurrency];
            } else {
                // Prix par gramme pour la vente particuli√®re
                const basePrice = products[productId].basePrice;
                return basePrice * exchangeRates[currentCurrency];
            }
        }

        // Fonction pour obtenir le symbole de la devise
        function getCurrencySymbol() {
            const symbols = {
                MAD: 'DH',
                EUR: '‚Ç¨',
                USD: '$'
            };
            return symbols[currentCurrency];
        }

        // Fonction pour mettre √† jour tous les prix affich√©s
        function updateAllPrices() {
            const priceElements = document.querySelectorAll('.price-display');
            priceElements.forEach(element => {
                const productCard = element.closest('.product-card');
                if (productCard) {
                    const productName = productCard.getAttribute('data-product-name');
                    // Mapper les noms de produits aux IDs
                    let productId = '';
                    switch(productName) {
                        case 'amandes du maroc': productId = 'amandes'; break;
                        case 'noix de grenoble': productId = 'noix'; break;
                        case 'dattes medjool': productId = 'dattes'; break;
                        case 'noix de cajou': productId = 'cajou'; break;
                        case 'raisins secs': productId = 'raisins'; break;
                        case 'm√©lange premium': productId = 'melange'; break;
                    }
                    
                    if (productId && products[productId]) {
                        if (saleType === 'wholesale') {
                            // Prix fixe de 6 DH/pi√®ce pour la vente en gros
                            const basePrice = 6; // Prix fixe 6 DH/pi√®ce
                            const convertedPrice = basePrice * exchangeRates[currentCurrency];
                            element.textContent = `${convertedPrice.toFixed(2)} ${getCurrencySymbol()}/pi√®ce`;
                        } else {
                            // Prix par gramme pour la vente particuli√®re
                            const basePrice = products[productId].basePrice;
                            const convertedPrice = basePrice * exchangeRates[currentCurrency];
                            element.textContent = `${convertedPrice.toFixed(2)} ${getCurrencySymbol()}/g`;
                        }
                    }
                }
            });
        }

        function increaseQuantity(productId) {
            if (saleType === 'wholesale') {
                cart[productId] += 1; // Incr√©menter par 1 pi√®ce
            } else {
                cart[productId] += 10; // Incr√©menter par 10g
            }
            updateProductDisplay(productId);
            updateOrderSummary();
        }

        function decreaseQuantity(productId) {
            if (saleType === 'wholesale') {
                if (cart[productId] >= 1) {
                    cart[productId] -= 1; // D√©cr√©menter par 1 pi√®ce
                }
            } else {
                if (cart[productId] >= 10) {
                    cart[productId] -= 10; // D√©cr√©menter par 10g
                }
            }
            updateProductDisplay(productId);
            updateOrderSummary();
        }

        function updateQuantity(productId, value) {
            const quantity = parseInt(value) || 0;
            cart[productId] = Math.max(0, quantity);
            updateProductDisplay(productId);
            updateOrderSummary();
        }

        function updateProductDisplay(productId) {
            const qtyElement = document.getElementById(`${productId}-qty`);
            const totalElement = document.getElementById(`${productId}-total`);
            
            qtyElement.value = cart[productId];
            
            if (saleType === 'wholesale') {
                // Vente en gros : prix fixe de 6 DH/pi√®ce
                const basePrice = 6; // Prix fixe 6 DH/pi√®ce
                const pricePerPiece = basePrice * exchangeRates[currentCurrency];
                const total = cart[productId] * pricePerPiece;
                totalElement.textContent = `${total.toFixed(2)} ${getCurrencySymbol()}`;
            } else {
                // Vente particuli√®re : prix par gramme
                const basePrice = 2; // Prix de base 2 DH/g
                const pricePerGram = basePrice * exchangeRates[currentCurrency];
                const total = cart[productId] * pricePerGram;
                totalElement.textContent = `${total.toFixed(2)} ${getCurrencySymbol()}`;
            }
        }
        
        // Fonction pour mettre √† jour l'affichage de tous les produits
        function updateAllProductsDisplay() {
            Object.keys(products).forEach(productId => {
                updateProductDisplay(productId);
            });
        }

        function updateOrderSummary() {
            const orderSummary = document.getElementById('order-summary');
            const grandTotalElement = document.getElementById('grand-total');
            const whatsappButton = document.getElementById('whatsapp-order');
            
            let total = 0;
            let hasItems = false;
            
            orderSummary.innerHTML = '';
            
            Object.keys(cart).forEach(productId => {
                if (cart[productId] > 0) {
                    hasItems = true;
                    const product = products[productId];
                    let subtotal = 0;
                    let quantityText = '';

                    if (saleType === 'wholesale') {
                        // Vente en gros : prix fixe de 6 DH/pi√®ce
                        const basePrice = 6; // Prix fixe 6 DH/pi√®ce
                        const pricePerPiece = basePrice * exchangeRates[currentCurrency];
                        subtotal = cart[productId] * pricePerPiece;
                        quantityText = `x${cart[productId]} pi√®ce${cart[productId] > 1 ? 's' : ''}`;
                    } else {
                        // Vente particuli√®re : prix par gramme
                        const basePrice = 2; // Prix de base 2 DH/g
                        const pricePerGram = basePrice * exchangeRates[currentCurrency];
                        subtotal = cart[productId] * pricePerGram;
                        quantityText = `x${cart[productId]}g`;
                    }
                    
                    total += subtotal;

                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'flex justify-between items-center py-2 border-b border-gray-200';
                    itemDiv.innerHTML = `
                        <div>
                            <span class="font-semibold">${product.name}</span>
                            <span class="text-gray-600 ml-2">${quantityText}</span>
                        </div>
                        <span class="font-bold text-warm-brown">${subtotal.toFixed(2)} ${getCurrencySymbol()}</span>
                    `;
                    orderSummary.appendChild(itemDiv);
                }
            });
            
            if (!hasItems) {
                orderSummary.innerHTML = '<p class="text-gray-500 text-center py-4">Aucun produit s√©lectionn√©</p>';
            }
            
            grandTotalElement.textContent = `${total.toFixed(2)} ${getCurrencySymbol()}`;
            
            // Debug: forcer la mise √† jour du total g√©n√©ral
            console.log('Total calcul√©:', total, 'Devise:', currentCurrency, 'Symbole:', getCurrencySymbol());
            
            // V√©rifier si le formulaire est valide
            const form = document.getElementById('customer-form');
            const isFormValid = form.checkValidity();
            
            // Seuils diff√©rents selon le type de vente
            let minOrderAmount;
            if (saleType === 'wholesale') {
                minOrderAmount = 500 * exchangeRates[currentCurrency]; // 500 DH pour vente en gros
            } else {
                minOrderAmount = 100 * exchangeRates[currentCurrency]; // 100 DH pour vente particuli√®re
            }
            
            whatsappButton.disabled = !hasItems || total < minOrderAmount || !isFormValid;
            
            // Mettre √† jour la section paiement √©chelonn√©
            updateInstallmentSection();
        }

        function sendToWhatsApp() {
            // V√©rifier que le formulaire est valide
            const form = document.getElementById('customer-form');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }
            
            // R√©cup√©rer les informations du client
            const customerName = document.getElementById('customer-name').value;
            const customerEmail = document.getElementById('customer-email').value;
            const customerPhone = document.getElementById('customer-phone').value;
            const deliveryDate = document.getElementById('delivery-date').value;
            const deliveryAddress = document.getElementById('delivery-address').value;
            const deliveryNotes = document.getElementById('delivery-notes').value;
            
            let message = "üå∞ *Commande BeldiNuts*\n\n";
            message += "Bonjour ! Je souhaite commander les produits suivants :\n\n";
            
            let total = 0;
            let hasItems = false;
            
            Object.keys(cart).forEach(productId => {
                if (cart[productId] > 0) {
                    hasItems = true;
                    const product = products[productId];
                    let subtotal = 0;
                    let quantityText = '';

                    if (saleType === 'wholesale') {
                        // Vente en gros : prix fixe de 6 DH/pi√®ce
                        const basePrice = 6; // Prix fixe 6 DH/pi√®ce
                        const pricePerPiece = basePrice * exchangeRates[currentCurrency];
                        subtotal = cart[productId] * pricePerPiece;
                        quantityText = `${cart[productId]} pi√®ce${cart[productId] > 1 ? 's' : ''}`;
                    } else {
                        // Vente particuli√®re : prix par gramme
                        const basePrice = 2; // Prix de base 2 DH/g
                        const pricePerGram = basePrice * exchangeRates[currentCurrency];
                        subtotal = cart[productId] * pricePerGram;
                        quantityText = `${cart[productId]}g`;
                    }
                    
                    total += subtotal;
                    message += `‚Ä¢ ${product.name}: ${quantityText} (${subtotal.toFixed(2)} ${getCurrencySymbol()})\n`;
                }
            });
            
            if (hasItems) {
                message += `\n*Total: ${total.toFixed(2)} ${getCurrencySymbol()}*\n\n`;
                
                // Ajouter les d√©tails du paiement √©chelonn√© si vente en gros
                if (saleType === 'wholesale') {
                    const installmentCount = document.getElementById('installment-count').value;
                    const installmentAmount = document.getElementById('installment-amount').textContent;
                    
                    message += "*üí≥ Paiement √âchelonn√© :*\n";
                    message += `üìä Nombre d'√©ch√©ances: ${installmentCount}\n`;
                    message += `üí∞ Montant par √©ch√©ance: ${installmentAmount}\n\n`;
                }
                
                message += "*Informations de livraison :*\n";
                message += `üë§ Nom: ${customerName}\n`;
                message += `üìß Email: ${customerEmail}\n`;
                message += `üì± T√©l√©phone: ${customerPhone}\n`;
                message += `üìÖ Date souhait√©e: ${deliveryDate}\n`;
                message += `üìç Adresse: ${deliveryAddress}\n`;
                if (deliveryNotes.trim()) {
                    message += `üìù Notes: ${deliveryNotes}\n`;
                }
                message += `\nMerci de me confirmer la disponibilit√© et les modalit√©s de livraison.`;
                
                const phoneNumber = "212615919437";
                const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            }
        }

        // Fonction pour filtrer les produits
        function filterProducts(searchTerm) {
            const products = document.querySelectorAll('.product-card');
            const searchTermLower = searchTerm.toLowerCase().trim();
            const clearButton = document.getElementById('clear-search');
            
            // Afficher/masquer le bouton de suppression
            if (searchTermLower.length > 0) {
                clearButton.classList.remove('hidden');
            } else {
                clearButton.classList.add('hidden');
            }
            
            let visibleCount = 0;
            
            products.forEach(product => {
                const productName = product.getAttribute('data-product-name').toLowerCase();
                const productTitle = product.querySelector('h3').textContent.toLowerCase();
                
                if (productName.includes(searchTermLower) || productTitle.includes(searchTermLower)) {
                    product.style.display = 'block';
                    product.style.animation = 'fadeIn 0.3s ease-in';
                    visibleCount++;
                } else {
                    product.style.display = 'none';
                }
            });
            
            // Afficher un message si aucun produit trouv√©
            showNoResultsMessage(visibleCount === 0 && searchTermLower.length > 0);
        }
        
        // Fonction pour effacer la recherche
        function clearSearch() {
            const searchInput = document.getElementById('product-search');
            searchInput.value = '';
            filterProducts('');
        }
        
        // Fonction pour afficher le message "aucun r√©sultat"
        function showNoResultsMessage(show) {
            let noResultsMsg = document.getElementById('no-results-message');
            
            if (show && !noResultsMsg) {
                noResultsMsg = document.createElement('div');
                noResultsMsg.id = 'no-results-message';
                noResultsMsg.className = 'col-span-full text-center py-12';
                noResultsMsg.innerHTML = `
                    <div class="text-gray-500">
                        <i class="fas fa-search text-4xl mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2">Aucun produit trouv√©</h3>
                        <p>Essayez avec d'autres mots-cl√©s comme "amandes", "noix", "dattes"...</p>
                    </div>
                `;
                document.getElementById('products-grid').appendChild(noResultsMsg);
            } else if (!show && noResultsMsg) {
                noResultsMsg.remove();
            }
        }

        // Fonction pour basculer le menu mobile
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            const toggleButton = document.getElementById('mobile-menu-toggle');
            const icon = toggleButton.querySelector('i');
            
            if (mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.remove('hidden');
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-times');
            } else {
                mobileMenu.classList.add('hidden');
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            }
        }

        // Fonction pour ouvrir le modal des d√©tails du produit
        function openProductModal(productId) {
            const modal = document.getElementById('product-modal');
            const product = productDetails[productId];
            
            if (!product) return;
            
            // Mettre √† jour le contenu du modal
            document.getElementById('modal-title').textContent = 'D√©tails du Produit';
            document.getElementById('modal-product-name').textContent = product.name;
            document.getElementById('modal-description').textContent = product.description;
            document.getElementById('modal-image').style.backgroundImage = `url('${product.image}')`;
            
            // Mettre √† jour le prix
            let basePrice, unit;
            if (saleType === 'wholesale') {
                basePrice = 6; // Prix fixe 6 DH/pi√®ce
                unit = 'pi√®ce';
            } else {
                basePrice = products[productId].basePrice || 2;
                unit = 'g';
            }
            const convertedPrice = basePrice * exchangeRates[currentCurrency];
            document.getElementById('modal-price').textContent = `${convertedPrice.toFixed(2)} ${getCurrencySymbol()}/${unit}`;
            
            // Mettre √† jour les bienfaits
            const benefitsList = document.getElementById('modal-benefits');
            benefitsList.innerHTML = '';
            product.benefits.forEach(benefit => {
                const li = document.createElement('li');
                li.className = 'flex items-start';
                li.innerHTML = `<i class="fas fa-check text-green-500 mr-2 mt-1"></i><span>${benefit}</span>`;
                benefitsList.appendChild(li);
            });
            
            // Mettre √† jour les conseils d'utilisation
            const usageList = document.getElementById('modal-usage');
            usageList.innerHTML = '';
            product.usage.forEach(usage => {
                const li = document.createElement('li');
                li.className = 'flex items-start';
                li.innerHTML = `<i class="fas fa-star text-yellow-500 mr-2 mt-1"></i><span>${usage}</span>`;
                usageList.appendChild(li);
            });
            
            // Mettre √† jour les conseils de conservation
            document.getElementById('modal-storage').textContent = product.storage;
            
            // Afficher le modal
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Emp√™cher le scroll de la page
        }

        // Fonction pour fermer le modal
        function closeProductModal() {
            const modal = document.getElementById('product-modal');
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto'; // Restaurer le scroll de la page
        }

        // Fermer le modal en cliquant sur le fond
        document.getElementById('product-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeProductModal();
            }
        });

        // Fermer le modal avec la touche Escape
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeProductModal();
            }
        });

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            updateOrderSummary();
            
            // D√©finir la date minimum pour la livraison (aujourd'hui)
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('delivery-date').min = today;
            
            // Ajouter des √©couteurs d'√©v√©nements pour le formulaire
            const form = document.getElementById('customer-form');
            form.addEventListener('input', updateOrderSummary);
            form.addEventListener('change', updateOrderSummary);
            
            // Synchroniser les s√©lecteurs de langue
            const desktopLangSelect = document.getElementById('language-select');
            const mobileLangSelect = document.getElementById('language-select-mobile');
            
            if (desktopLangSelect && mobileLangSelect) {
                desktopLangSelect.addEventListener('change', function() {
                    mobileLangSelect.value = this.value;
                });
                
                mobileLangSelect.addEventListener('change', function() {
                    desktopLangSelect.value = this.value;
                });
            }
            
            // Synchroniser les s√©lecteurs de devise
            const desktopCurrencySelect = document.getElementById('currency-select');
            const mobileCurrencySelect = document.getElementById('currency-select-mobile');
            
            if (desktopCurrencySelect && mobileCurrencySelect) {
                desktopCurrencySelect.addEventListener('change', function() {
                    mobileCurrencySelect.value = this.value;
                });
                
                mobileCurrencySelect.addEventListener('change', function() {
                    desktopCurrencySelect.value = this.value;
                });
            }
        });
    </script>

    <!-- Footer -->
    <footer id="contact" class="bg-gray-900 text-white py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center mb-4">
                        <img src="beldi-nuts-logo.png" alt="BeldiNuts Logo" class="h-8 w-8 mr-3">
                        <h3 class="text-2xl font-bold text-light-gold">BeldiNuts</h3>
                    </div>
                    <p class="text-gray-300 mb-4">
                        Votre partenaire pour une alimentation saine et naturelle. 
                        Des produits d'exception directement du Maroc.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-300 hover:text-light-gold transition-colors">
                            <i class="fab fa-facebook text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-300 hover:text-light-gold transition-colors">
                            <i class="fab fa-instagram text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-300 hover:text-light-gold transition-colors">
                            <i class="fab fa-twitter text-xl"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4">Produits</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-300 hover:text-light-gold transition-colors">Amandes</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-light-gold transition-colors">Noix</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-light-gold transition-colors">Dattes</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-light-gold transition-colors">Fruits Secs</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4">Informations</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-300 hover:text-light-gold transition-colors">√Ä propos</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-light-gold transition-colors">Livraison</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-light-gold transition-colors">Retours</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-light-gold transition-colors">FAQ</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4">Contact</h4>
                    <div class="space-y-2">
                        <div class="flex items-center">
                            <i class="fas fa-map-marker-alt text-light-gold mr-2"></i>
                            <span class="text-gray-300">Casablanca, Maroc</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-phone text-light-gold mr-2"></i>
                            <span class="text-gray-300">+212 5XX XXX XXX</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-envelope text-light-gold mr-2"></i>
                            <span class="text-gray-300">contact@beldinuts.ma</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-12 pt-8 text-center">
                <p class="text-gray-300">
                    ¬© 2024 BeldiNuts. Tous droits r√©serv√©s. | 
                    <a href="#" class="hover:text-light-gold transition-colors">Mentions l√©gales</a> | 
                    <a href="#" class="hover:text-light-gold transition-colors">Politique de confidentialit√©</a>
                </p>
            </div>
        </div>
    </footer>

    <!-- Product Details Modal -->
    <div id="product-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center">
                <h2 id="modal-title" class="text-2xl font-bold text-warm-brown">D√©tails du Produit</h2>
                <button onclick="closeProductModal()" class="text-gray-500 hover:text-warm-brown text-2xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="p-6">
                <div class="grid md:grid-cols-2 gap-8">
                    <!-- Product Image -->
                    <div>
                        <div id="modal-image" class="h-64 md:h-80 bg-cover bg-center rounded-xl mb-4"></div>
                        <div class="text-center">
                            <span id="modal-price" class="text-3xl font-bold text-warm-brown">2.00 DH/g</span>
                        </div>
                    </div>
                    
                    <!-- Product Details -->
                    <div>
                        <h3 id="modal-product-name" class="text-2xl font-bold text-warm-brown mb-4">Nom du Produit</h3>
                        <p id="modal-description" class="text-gray-600 mb-6">Description du produit...</p>
                        
                        <!-- Nutritional Benefits -->
                        <div class="mb-6">
                            <h4 class="text-lg font-semibold text-warm-brown mb-3">
                                <i class="fas fa-heart text-red-500 mr-2"></i>
                                Bienfaits Nutritionnels
                            </h4>
                            <ul id="modal-benefits" class="space-y-2 text-gray-700">
                                <!-- Benefits will be populated by JavaScript -->
                            </ul>
                        </div>
                        
                        <!-- Usage Tips -->
                        <div class="mb-6">
                            <h4 class="text-lg font-semibold text-warm-brown mb-3">
                                <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                                Conseils d'Utilisation
                            </h4>
                            <ul id="modal-usage" class="space-y-2 text-gray-700">
                                <!-- Usage tips will be populated by JavaScript -->
                            </ul>
                        </div>
                        
                        <!-- Storage Tips -->
                        <div class="mb-6">
                            <h4 class="text-lg font-semibold text-warm-brown mb-3">
                                <i class="fas fa-archive text-blue-500 mr-2"></i>
                                Conservation
                            </h4>
                            <p id="modal-storage" class="text-gray-700">Conseils de conservation...</p>
                        </div>
                        
                        <!-- Action Buttons -->
                        <div class="flex justify-center">
                            <button onclick="closeProductModal()" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-3 px-8 rounded-full transition-colors">
                                Fermer
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
