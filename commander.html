<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commander - BeldiNuts | Noix et Fruits Secs du Maroc</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="beldi-nuts-logo.png">
    <link rel="apple-touch-icon" href="beldi-nuts-logo.png">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Commandez vos noix et fruits secs premium du Maroc. Amandes, noix, dattes, cajous et raisins secs de qualité. Livraison rapide.">
    <meta name="keywords" content="noix maroc, fruits secs, amandes, dattes, cajous, raisins secs, alimentation saine, produits naturels, livraison maroc">
    <meta name="author" content="BeldiNuts">
    <meta name="robots" content="index, follow">
    <meta name="language" content="fr">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Commander - BeldiNuts | Noix et Fruits Secs du Maroc">
    <meta property="og:description" content="Commandez vos noix et fruits secs préférés directement du Maroc. Amandes, noix, dattes, cajous et raisins secs de qualité premium.">
    <meta property="og:image" content="beldi-nuts-logo.png">
    <meta property="og:url" content="https://beldinuts.ma/commander.html">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="BeldiNuts">
    <meta property="og:locale" content="fr_FR">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Commander - BeldiNuts | Noix et Fruits Secs du Maroc">
    <meta name="twitter:description" content="Commandez vos noix et fruits secs préférés directement du Maroc. Amandes, noix, dattes, cajous et raisins secs de qualité premium.">
    <meta name="twitter:image" content="beldi-nuts-logo.png">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'warm-brown': '#8B4513',
                        'beige': '#F5F5DC',
                        'earth-green': '#8FBC8F',
                        'light-gold': '#DAA520',
                        'cream': '#FFF8DC'
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        html {
            scroll-behavior: smooth;
        }
        
        .fade-in {
            animation: fadeIn 1s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Packs Scrollable Styles */
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        
        .pack-card {
            min-width: 280px;
            flex-shrink: 0;
        }
        
        @media (max-width: 768px) {
            .pack-card {
                min-width: 250px;
            }
        }
        
        .product-image-carousel {
            transition: background-image 0.8s ease-in-out;
            position: relative;
        }
        
        .product-image-carousel::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, rgba(218, 165, 32, 0.5), transparent);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .product-image-carousel.animating::after {
            opacity: 1;
        }
    </style>
</head>
<body class="font-sans bg-gray-50">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full bg-white/90 backdrop-blur-sm z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <div class="flex items-center">
                        <img src="beldi-nuts-logo.png" alt="BeldiNuts Logo" class="h-8 w-8 mr-3">
                        <h2 class="text-2xl font-bold text-warm-brown">BeldiNuts</h2>
                    </div>
                </div>
                <div class="hidden md:flex space-x-8 items-center">
                    <a href="index.html" class="text-warm-brown hover:text-light-gold transition-colors" data-translate="nav_home">Accueil</a>
                    <a href="index.html#apropos" class="text-warm-brown hover:text-light-gold transition-colors" data-translate="nav_about">À propos</a>
                    <a href="index.html#produits" class="text-warm-brown hover:text-light-gold transition-colors" data-translate="nav_products">Produits</a>
                    <a href="commander.html" class="text-warm-brown hover:text-light-gold transition-colors bg-light-gold text-white px-4 py-2 rounded-full" data-translate="nav_order">Commander</a>
                    <a href="index.html#contact" class="text-warm-brown hover:text-light-gold transition-colors" data-translate="nav_contact">Contact</a>
                    
                    <!-- Cart Icon -->
                    <button onclick="toggleCartModal()" class="relative text-warm-brown hover:text-light-gold transition-colors">
                        <i class="fas fa-shopping-cart text-xl"></i>
                        <span id="cart-count" class="absolute -top-2 -right-2 bg-light-gold text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold">0</span>
                    </button>
                    
                    <!-- Language Selector -->
                    <div class="relative">
                        <select id="language-select" onchange="changeLanguage(this.value)" 
                                class="bg-transparent border border-warm-brown text-warm-brown px-3 py-1 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-light-gold">
                            <option value="fr">🇫🇷 FR</option>
                            <option value="ar">🇲🇦 AR</option>
                            <option value="en">🇺🇸 EN</option>
                        </select>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-toggle" class="text-warm-brown focus:outline-none" onclick="toggleMobileMenu()">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
            
            <!-- Mobile Navigation Menu -->
            <div id="mobile-menu" class="md:hidden hidden bg-white border-t border-gray-200">
                <div class="px-4 py-4 space-y-4">
                    <a href="index.html" class="block text-warm-brown hover:text-light-gold transition-colors py-2" data-translate="nav_home">Accueil</a>
                    <a href="index.html#apropos" class="block text-warm-brown hover:text-light-gold transition-colors py-2" data-translate="nav_about">À propos</a>
                    <a href="index.html#produits" class="block text-warm-brown hover:text-light-gold transition-colors py-2" data-translate="nav_products">Produits</a>
                    <a href="commander.html" class="block text-warm-brown hover:text-light-gold transition-colors bg-light-gold text-white px-4 py-2 rounded-full text-center" data-translate="nav_order">Commander</a>
                    <a href="index.html#contact" class="block text-warm-brown hover:text-light-gold transition-colors py-2" data-translate="nav_contact">Contact</a>
                    
                    <!-- Cart Button for Mobile -->
                    <button onclick="toggleCartModal()" class="w-full flex items-center justify-center text-warm-brown hover:text-light-gold transition-colors py-2">
                        <i class="fas fa-shopping-cart text-xl mr-2"></i>
                        <span data-translate="cart">Panier</span>
                        <span id="cart-count-mobile" class="ml-2 bg-light-gold text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold">0</span>
                    </button>
                    
                    <!-- Currency Selector for Mobile -->
                    <div class="pt-2">
                        <select id="currency-select-mobile" onchange="changeCurrency(this.value)" 
                                class="w-full bg-transparent border border-warm-brown text-warm-brown px-3 py-2 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-light-gold">
                            <option value="MAD">🇲🇦 DH (Maroc)</option>
                            <option value="EUR">🇪🇺 EUR (Europe)</option>
                            <option value="USD">🇺🇸 USD (Amérique)</option>
                        </select>
                    </div>
                    
                    <!-- Language Selector for Mobile -->
                    <div class="pt-2">
                        <select id="language-select-mobile" onchange="changeLanguage(this.value)" 
                                class="w-full bg-transparent border border-warm-brown text-warm-brown px-3 py-2 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-light-gold">
                            <option value="fr">🇫🇷 FR</option>
                            <option value="ar">🇲🇦 AR</option>
                            <option value="en">🇺🇸 EN</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Header Section -->
    <section class="bg-gradient-to-r from-warm-brown to-light-gold py-16 pt-24">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-4" data-translate="page_title">
                Commandez vos Noix et Fruits Secs Premium du Maroc
            </h1>
            <p class="text-xl text-cream mb-6" data-translate="page_subtitle">
                Sélectionnez vos produits préférés et commandez directement via WhatsApp
            </p>
            
        </div>
    </section>

    <!-- Products Selection -->
    <section class="py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Sale Type Selector -->
            <div class="mb-8">
                <div class="max-w-4xl mx-auto">
                    <div class="bg-white rounded-2xl shadow-lg p-6">
                        <h3 class="text-xl font-bold text-warm-brown mb-4 text-center" data-translate="sale_type_title">Type de Vente</h3>
                        <div class="grid md:grid-cols-2 gap-4">
                            <button id="retail-btn" onclick="setSaleType('retail')" 
                                    class="sale-type-btn bg-light-gold text-white py-4 px-6 rounded-full font-semibold transition-all duration-300 hover:bg-yellow-600 active">
                                <i class="fas fa-shopping-cart mr-2"></i>
                                <span data-translate="retail_sale">Vente Particulière</span>
                                <div class="text-sm opacity-90" data-translate="retail_desc">Prix par gramme</div>
                            </button>
                            <button id="wholesale-btn" onclick="setSaleType('wholesale')" 
                                    class="sale-type-btn bg-gray-200 text-gray-700 py-4 px-6 rounded-full font-semibold transition-all duration-300 hover:bg-gray-300">
                                <i class="fas fa-boxes mr-2"></i>
                                <span data-translate="wholesale_sale">Vente en Gros</span>
                                <div class="text-sm opacity-90" data-translate="wholesale_desc">Prix par pièce</div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Packs Section -->
            <div class="mb-12">
                <div class="max-w-4xl mx-auto">
                    <div class="bg-white rounded-2xl shadow-lg p-6">
                        <h3 class="text-xl font-bold text-warm-brown mb-4 text-center" data-translate="packs_title">Packs Recommandés</h3>
                        <p class="text-gray-600 text-center mb-6" data-translate="packs_subtitle">Économisez avec nos packs de produits sélectionnés</p>
                        
                        <div class="relative">
                            <div class="overflow-x-auto scrollbar-hide">
                                <div class="flex space-x-6 pb-4" id="packs-grid" style="width: max-content;">
                                    <!-- Pack 1: Pack Sport -->
                                    <div class="bg-gradient-to-br from-blue-600 to-blue-400 rounded-xl p-6 text-white pack-card" data-pack-id="sport">
                                        <div class="text-center mb-4">
                                            <i class="fas fa-dumbbell text-3xl mb-2"></i>
                                            <h4 class="text-lg font-bold" data-translate="pack_sport_name">Pack Sport</h4>
                                            <p class="text-sm opacity-90" data-translate="pack_sport_desc">Énergie pour les sportifs</p>
                                        </div>
                                        <div class="space-y-2 mb-4">
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_sport_item1">100g Amandes</span>
                                            </div>
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_sport_item2">100g Dattes</span>
                                            </div>
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_sport_item3">100g Raisins</span>
                                            </div>
                                        </div>
                                        <div class="text-center">
                                            <div class="text-2xl font-bold mb-2">
                                                <span class="pack-price">300 DH</span>
                                                <span class="text-sm opacity-75 line-through ml-2">360 DH</span>
                                            </div>
                                            <button onclick="addPackToCart('sport')" class="bg-white text-blue-600 px-4 py-2 rounded-full font-semibold hover:bg-gray-100 transition-colors">
                                                <i class="fas fa-plus mr-1"></i>
                                                <span data-translate="add_pack">Ajouter Pack</span>
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Pack 2: Pack Famille -->
                                    <div class="bg-gradient-to-br from-green-600 to-green-400 rounded-xl p-6 text-white pack-card" data-pack-id="famille">
                                        <div class="text-center mb-4">
                                            <i class="fas fa-users text-3xl mb-2"></i>
                                            <h4 class="text-lg font-bold" data-translate="pack_famille_name">Pack Famille</h4>
                                            <p class="text-sm opacity-90" data-translate="pack_famille_desc">Idéal pour toute la famille</p>
                                        </div>
                                        <div class="space-y-2 mb-4">
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_famille_item1">150g Amandes</span>
                                            </div>
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_famille_item2">150g Noix</span>
                                            </div>
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_famille_item3">100g Dattes</span>
                                            </div>
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_famille_item4">100g Cajous</span>
                                            </div>
                                        </div>
                                        <div class="text-center">
                                            <div class="text-2xl font-bold mb-2">
                                                <span class="pack-price">500 DH</span>
                                                <span class="text-sm opacity-75 line-through ml-2">600 DH</span>
                                            </div>
                                            <button onclick="addPackToCart('famille')" class="bg-white text-green-600 px-4 py-2 rounded-full font-semibold hover:bg-gray-100 transition-colors">
                                                <i class="fas fa-plus mr-1"></i>
                                                <span data-translate="add_pack">Ajouter Pack</span>
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Pack 3: Pack Collèges -->
                                    <div class="bg-gradient-to-br from-purple-600 to-purple-400 rounded-xl p-6 text-white pack-card" data-pack-id="colleges">
                                        <div class="text-center mb-4">
                                            <i class="fas fa-graduation-cap text-3xl mb-2"></i>
                                            <h4 class="text-lg font-bold" data-translate="pack_colleges_name">Pack Collèges</h4>
                                            <p class="text-sm opacity-90" data-translate="pack_colleges_desc">Étudiants et collèges</p>
                                        </div>
                                        <div class="space-y-2 mb-4">
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_colleges_item1">200g Amandes</span>
                                            </div>
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_colleges_item2">200g Dattes</span>
                                            </div>
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_colleges_item3">200g Raisins</span>
                                            </div>
                                        </div>
                                        <div class="text-center">
                                            <div class="text-2xl font-bold mb-2">
                                                <span class="pack-price">400 DH</span>
                                                <span class="text-sm opacity-75 line-through ml-2">480 DH</span>
                                            </div>
                                            <button onclick="addPackToCart('colleges')" class="bg-white text-purple-600 px-4 py-2 rounded-full font-semibold hover:bg-gray-100 transition-colors">
                                                <i class="fas fa-plus mr-1"></i>
                                                <span data-translate="add_pack">Ajouter Pack</span>
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Pack 4: Pack Découverte -->
                                    <div class="bg-gradient-to-br from-orange-600 to-orange-400 rounded-xl p-6 text-white pack-card" data-pack-id="decouverte">
                                        <div class="text-center mb-4">
                                            <i class="fas fa-gift text-3xl mb-2"></i>
                                            <h4 class="text-lg font-bold" data-translate="pack_decouverte_name">Pack Découverte</h4>
                                            <p class="text-sm opacity-90" data-translate="pack_decouverte_desc">Parfait pour commencer</p>
                                        </div>
                                        <div class="space-y-2 mb-4">
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_decouverte_item1">50g Amandes</span>
                                            </div>
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_decouverte_item2">50g Noix</span>
                                            </div>
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_decouverte_item3">50g Dattes</span>
                                            </div>
                                        </div>
                                        <div class="text-center">
                                            <div class="text-2xl font-bold mb-2">
                                                <span class="pack-price">150 DH</span>
                                                <span class="text-sm opacity-75 line-through ml-2">180 DH</span>
                                            </div>
                                            <button onclick="addPackToCart('decouverte')" class="bg-white text-orange-600 px-4 py-2 rounded-full font-semibold hover:bg-gray-100 transition-colors">
                                                <i class="fas fa-plus mr-1"></i>
                                                <span data-translate="add_pack">Ajouter Pack</span>
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Pack 5: Pack Premium -->
                                    <div class="bg-gradient-to-br from-yellow-600 to-yellow-400 rounded-xl p-6 text-white pack-card" data-pack-id="premium">
                                        <div class="text-center mb-4">
                                            <i class="fas fa-crown text-3xl mb-2"></i>
                                            <h4 class="text-lg font-bold" data-translate="pack_premium_name">Pack Premium</h4>
                                            <p class="text-sm opacity-90" data-translate="pack_premium_desc">Notre sélection d'exception</p>
                                        </div>
                                        <div class="space-y-2 mb-4">
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_premium_item1">300g Amandes</span>
                                            </div>
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_premium_item2">300g Noix</span>
                                            </div>
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_premium_item3">300g Dattes</span>
                                            </div>
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_premium_item4">300g Cajous</span>
                                            </div>
                                            <div class="flex items-center text-sm">
                                                <i class="fas fa-check mr-2"></i>
                                                <span data-translate="pack_premium_item5">300g Raisins</span>
                                            </div>
                                        </div>
                                        <div class="text-center">
                                            <div class="text-2xl font-bold mb-2">
                                                <span class="pack-price">1,500 DH</span>
                                                <span class="text-sm opacity-75 line-through ml-2">1,800 DH</span>
                                            </div>
                                            <button onclick="addPackToCart('premium')" class="bg-white text-yellow-600 px-4 py-2 rounded-full font-semibold hover:bg-gray-100 transition-colors">
                                                <i class="fas fa-plus mr-1"></i>
                                                <span data-translate="add_pack">Ajouter Pack</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Informations Produits Section -->
            <div class="mb-12">
                <div class="max-w-4xl mx-auto">
                    <div class="bg-white rounded-2xl shadow-lg p-8">
                        <h2 class="text-2xl font-bold text-warm-brown mb-6 text-center">Pourquoi Choisir BeldiNuts ?</h2>
                        
                        <div class="grid md:grid-cols-2 gap-8 mb-8">
                            <div>
                                <h3 class="text-xl font-semibold text-warm-brown mb-4">Qualité Premium Garantie</h3>
                                <p class="text-gray-700 mb-4">
                                    Tous nos produits sont soigneusement sélectionnés directement chez les producteurs marocains. 
                                    Nous privilégions la qualité et la fraîcheur pour vous offrir le meilleur des noix et fruits secs.
                                </p>
                                <p class="text-gray-700">
                                    Nos amandes du Maroc sont récoltées à la main et séchées naturellement au soleil. 
                                    Elles conservent ainsi toutes leurs propriétés nutritionnelles et leur goût authentique.
                                </p>
                            </div>
                            
                            <div>
                                <h3 class="text-xl font-semibold text-warm-brown mb-4">Bienfaits Nutritionnels</h3>
                                <p class="text-gray-700 mb-4">
                                    Nos noix et fruits secs sont riches en protéines, vitamines et minéraux essentiels. 
                                    Ils constituent un excellent complément alimentaire naturel pour une alimentation équilibrée.
                                </p>
                                <p class="text-gray-700">
                                    Les dattes Medjool sont particulièrement recommandées pour les sportifs grâce à leur 
                                    teneur élevée en potassium et en glucides naturels.
                                </p>
                            </div>
                        </div>
                        
                        <div class="grid md:grid-cols-3 gap-6">
                            <div class="text-center">
                                <div class="bg-warm-brown text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                                    <i class="fas fa-shipping-fast text-2xl"></i>
                                </div>
                                <h4 class="font-semibold text-warm-brown mb-2">Livraison Rapide</h4>
                                <p class="text-sm text-gray-600">Expédition sous 24h dans tout le Maroc</p>
                            </div>
                            
                            <div class="text-center">
                                <div class="bg-earth-green text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                                    <i class="fas fa-leaf text-2xl"></i>
                                </div>
                                <h4 class="font-semibold text-warm-brown mb-2">100% Naturel</h4>
                                <p class="text-sm text-gray-600">Aucun conservateur ni additif chimique</p>
                            </div>
                            
                            <div class="text-center">
                                <div class="bg-light-gold text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                                    <i class="fas fa-award text-2xl"></i>
                                </div>
                                <h4 class="font-semibold text-warm-brown mb-2">Qualité Certifiée</h4>
                                <p class="text-sm text-gray-600">Contrôle qualité rigoureux à chaque étape</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Search Bar with Currency Selector -->
            <div class="mb-12">
                <div class="max-w-4xl mx-auto">
                    <div class="grid md:grid-cols-2 gap-4">
                        <!-- Search Input -->
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-search text-gray-400"></i>
                            </div>
                            <input type="text" id="product-search" 
                                   placeholder="Rechercher un produit (amandes, noix, dattes...)" 
                                   class="w-full pl-10 pr-4 py-4 border border-gray-300 rounded-full text-lg focus:ring-2 focus:ring-warm-brown focus:border-transparent shadow-lg"
                                   onkeyup="filterProducts(this.value)">
                            <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                <button onclick="clearSearch()" id="clear-search" class="text-gray-400 hover:text-warm-brown hidden">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Currency Selector -->
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-coins text-gray-400"></i>
                            </div>
                            <select id="currency-select" onchange="changeCurrency(this.value)" 
                                    class="w-full pl-10 pr-4 py-4 border border-gray-300 rounded-full text-lg focus:ring-2 focus:ring-warm-brown focus:border-transparent shadow-lg bg-white appearance-none cursor-pointer">
                                <option value="MAD">🇲🇦 DH (Maroc)</option>
                                <option value="EUR">🇪🇺 EUR (Europe)</option>
                                <option value="USD">🇺🇸 USD (Amérique)</option>
                            </select>
                            <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                <i class="fas fa-chevron-down text-gray-400"></i>
                            </div>
                        </div>
                        
                    </div>
                    <p class="text-sm text-gray-600 mt-2 text-center">
                        Recherchez un produit et choisissez votre devise
                    </p>
                </div>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="products-grid">
                <!-- Product 1: Graines noires - 1 DH -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden product-card" data-product-name="graines noires">
                    <div class="h-48 bg-cover bg-center relative group product-image-carousel" data-product="graines-noires" style="background-image: url('https://www.shutterstock.com/image-photo/sunflower-seed-isolated-on-white-600nw-2458579765.jpg')">
                        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center">
                            <button onclick="openProductModal('graines-noires')" class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white bg-opacity-90 hover:bg-opacity-100 text-warm-brown p-3 rounded-full shadow-lg transform hover:scale-110 transition-transform">
                                <i class="fas fa-eye text-xl"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-warm-brown mb-3" data-translate="graines_noires_name">Graines noires</h3>
                        <p class="text-gray-600 mb-4" data-translate="graines_noires_desc">
                            Graines noires naturelles et savoureuses, riches en nutriments essentiels.
                        </p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-2xl font-bold text-warm-brown price-display">1.00 DH/g</span>
                        </div>
                        <!-- Suggested Quantities -->
                        <div class="mb-4">
                            <p class="text-sm text-gray-600 mb-2" data-translate="suggested_quantities">Quantités suggérées:</p>
                            <div class="flex flex-wrap gap-2">
                                <button onclick="setSuggestedQuantity('graines-noires', 100)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    100g
                                </button>
                                <button onclick="setSuggestedQuantity('graines-noires', 200)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    200g
                                </button>
                                <button onclick="setSuggestedQuantity('graines-noires', 250)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    250g
                                </button>
                                <button onclick="setSuggestedQuantity('graines-noires', 500)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    500g
                                </button>
                                <button onclick="setSuggestedQuantity('graines-noires', 1000)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    1000g
                                </button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <button onclick="decreaseQuantity('graines-noires')" class="bg-gray-200 hover:bg-gray-300 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-minus text-sm"></i>
                                </button>
                                <input type="number" id="graines-noires-qty" value="0" min="0" step="10" 
                                       onchange="updateQuantity('graines-noires', this.value)" 
                                       oninput="updateQuantity('graines-noires', this.value)"
                                       class="text-lg font-semibold w-16 text-center border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                                <button onclick="increaseQuantity('graines-noires')" class="bg-warm-brown hover:bg-brown-700 text-white w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-plus text-sm"></i>
                                </button>
                            </div>
                            <span id="graines-noires-total" class="text-lg font-bold text-warm-brown">0 DH</span>
                        </div>
                        
                        <!-- Reviews Section -->
                        <div class="mt-4 pt-4 border-t border-gray-200">
                            <div class="flex items-center justify-between mb-2">
                                <div class="flex items-center">
                                    <div class="flex text-yellow-400">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                    <span class="text-sm text-gray-600 ml-2">4.8 (24 avis)</span>
                                </div>
                            </div>
                            
                            <!-- Recent Reviews -->
                            <div class="space-y-2">
                                <div class="text-sm">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold text-gray-800">Amina M.</span>
                                        <div class="flex text-yellow-400 text-xs">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 text-xs mt-1">"Excellent qualité, très fraîches!"</p>
                                </div>
                                
                                <div class="text-sm">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold text-gray-800">Youssef K.</span>
                                        <div class="flex text-yellow-400 text-xs">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 text-xs mt-1">"Parfait pour mes collations sportives"</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Product 2: Cacao normal - 2 DH -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden product-card" data-product-name="cacao normal">
                    <div class="h-48 bg-cover bg-center relative group product-image-carousel" data-product="cacao-normal" style="background-image: url('https://i.ytimg.com/vi/d7qetuMtgAc/maxresdefault.jpg')">
                        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center">
                            <button onclick="openProductModal('cacao-normal')" class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white bg-opacity-90 hover:bg-opacity-100 text-warm-brown p-3 rounded-full shadow-lg transform hover:scale-110 transition-transform">
                                <i class="fas fa-eye text-xl"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-warm-brown mb-3" data-translate="cacao_normal_name">Cacao normal</h3>
                        <p class="text-gray-600 mb-4" data-translate="cacao_normal_desc">
                            Cacao de qualité supérieure, naturel et riche en antioxydants.
                        </p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-2xl font-bold text-warm-brown price-display">2.00 DH/g</span>
                        </div>
                        <!-- Suggested Quantities -->
                        <div class="mb-4">
                            <p class="text-sm text-gray-600 mb-2" data-translate="suggested_quantities">Quantités suggérées:</p>
                            <div class="flex flex-wrap gap-2">
                                <button onclick="setSuggestedQuantity('cacao-normal', 100)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    100g
                                </button>
                                <button onclick="setSuggestedQuantity('cacao-normal', 200)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    200g
                                </button>
                                <button onclick="setSuggestedQuantity('cacao-normal', 250)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    250g
                                </button>
                                <button onclick="setSuggestedQuantity('cacao-normal', 500)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    500g
                                </button>
                                <button onclick="setSuggestedQuantity('cacao-normal', 1000)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    1000g
                                </button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <button onclick="decreaseQuantity('cacao-normal')" class="bg-gray-200 hover:bg-gray-300 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-minus text-sm"></i>
                                </button>
                                <input type="number" id="cacao-normal-qty" value="0" min="0" step="10" 
                                       onchange="updateQuantity('cacao-normal', this.value)" 
                                       oninput="updateQuantity('cacao-normal', this.value)"
                                       class="text-lg font-semibold w-16 text-center border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                                <button onclick="increaseQuantity('cacao-normal')" class="bg-warm-brown hover:bg-brown-700 text-white w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-plus text-sm"></i>
                                </button>
                            </div>
                            <span id="cacao-normal-total" class="text-lg font-bold text-warm-brown">0 DH</span>
                        </div>
                        
                        <!-- Reviews Section -->
                        <div class="mt-4 pt-4 border-t border-gray-200">
                            <div class="flex items-center justify-between mb-2">
                                <div class="flex items-center">
                                    <div class="flex text-yellow-400">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                    <span class="text-sm text-gray-600 ml-2">4.8 (20 avis)</span>
                                </div>
                            </div>
                            
                            <!-- Recent Reviews -->
                            <div class="space-y-2">
                                <div class="text-sm">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold text-gray-800">Aicha B.</span>
                                        <div class="flex text-yellow-400 text-xs">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 text-xs mt-1">"Excellent cacao de qualité!"</p>
                                </div>
                                
                                <div class="text-sm">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold text-gray-800">Youssef M.</span>
                                        <div class="flex text-yellow-400 text-xs">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 text-xs mt-1">"Très bon goût naturel"</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Product 3: Cacao fumé - 2 DH -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden product-card" data-product-name="cacao fumé">
                    <div class="h-48 bg-cover bg-center relative group product-image-carousel" data-product="cacao-fume" style="background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTfcq8vM9bF_LmLGLermWnYww1mVfVg7k1xIw&s')">
                        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center">
                            <button onclick="openProductModal('cacao-fume')" class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white bg-opacity-90 hover:bg-opacity-100 text-warm-brown p-3 rounded-full shadow-lg transform hover:scale-110 transition-transform">
                                <i class="fas fa-eye text-xl"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-warm-brown mb-3" data-translate="cacao_fume_name">Cacao fumé</h3>
                        <p class="text-gray-600 mb-4" data-translate="cacao_fume_desc">
                            Cacao avec une saveur fumée unique, parfait pour les amateurs de goûts intenses.
                        </p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-2xl font-bold text-warm-brown price-display">2.00 DH/g</span>
                        </div>
                        <!-- Suggested Quantities -->
                        <div class="mb-4">
                            <p class="text-sm text-gray-600 mb-2" data-translate="suggested_quantities">Quantités suggérées:</p>
                            <div class="flex flex-wrap gap-2">
                                <button onclick="setSuggestedQuantity('cacao-fume', 100)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    100g
                                </button>
                                <button onclick="setSuggestedQuantity('cacao-fume', 200)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    200g
                                </button>
                                <button onclick="setSuggestedQuantity('cacao-fume', 250)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    250g
                                </button>
                                <button onclick="setSuggestedQuantity('cacao-fume', 500)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    500g
                                </button>
                                <button onclick="setSuggestedQuantity('cacao-fume', 1000)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    1000g
                                </button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <button onclick="decreaseQuantity('cacao-fume')" class="bg-gray-200 hover:bg-gray-300 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-minus text-sm"></i>
                                </button>
                                <input type="number" id="cacao-fume-qty" value="0" min="0" step="10" 
                                       onchange="updateQuantity('cacao-fume', this.value)" 
                                       oninput="updateQuantity('cacao-fume', this.value)"
                                       class="text-lg font-semibold w-16 text-center border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                                <button onclick="increaseQuantity('cacao-fume')" class="bg-warm-brown hover:bg-brown-700 text-white w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-plus text-sm"></i>
                                </button>
                            </div>
                            <span id="cacao-fume-total" class="text-lg font-bold text-warm-brown">0 DH</span>
                        </div>
                        
                        <!-- Reviews Section -->
                        <div class="mt-4 pt-4 border-t border-gray-200">
                            <div class="flex items-center justify-between mb-2">
                                <div class="flex items-center">
                                    <div class="flex text-yellow-400">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                    <span class="text-sm text-gray-600 ml-2">4.7 (15 avis)</span>
                                </div>
                            </div>
                            
                            <!-- Recent Reviews -->
                            <div class="space-y-2">
                                <div class="text-sm">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold text-gray-800">Rachid K.</span>
                                        <div class="flex text-yellow-400 text-xs">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 text-xs mt-1">"Saveur fumée exceptionnelle!"</p>
                                </div>
                                
                                <div class="text-sm">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold text-gray-800">Fatima R.</span>
                                        <div class="flex text-yellow-400 text-xs">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 text-xs mt-1">"Unique et délicieux"</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Product 4: Pois chiches - 2 DH -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden product-card" data-product-name="pois chiches">
                    <div class="h-48 bg-cover bg-center relative group product-image-carousel" data-product="pois-chiches" style="background-image: url('https://www.goji.ma/cdn/shop/products/pois-chiche-vrac.png?v=1717869605')">
                        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center">
                            <button onclick="openProductModal('pois-chiches')" class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white bg-opacity-90 hover:bg-opacity-100 text-warm-brown p-3 rounded-full shadow-lg transform hover:scale-110 transition-transform">
                                <i class="fas fa-eye text-xl"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-warm-brown mb-3" data-translate="pois_chiches_name">Pois chiches</h3>
                        <p class="text-gray-600 mb-4" data-translate="pois_chiches_desc">
                            Pois chiches secs, riches en protéines végétales et fibres. Parfaits pour vos recettes.
                        </p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-2xl font-bold text-warm-brown price-display">2.00 DH/g</span>
                        </div>
                        <!-- Suggested Quantities -->
                        <div class="mb-4">
                            <p class="text-sm text-gray-600 mb-2" data-translate="suggested_quantities">Quantités suggérées:</p>
                            <div class="flex flex-wrap gap-2">
                                <button onclick="setSuggestedQuantity('pois-chiches', 100)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    100g
                                </button>
                                <button onclick="setSuggestedQuantity('pois-chiches', 200)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    200g
                                </button>
                                <button onclick="setSuggestedQuantity('pois-chiches', 250)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    250g
                                </button>
                                <button onclick="setSuggestedQuantity('pois-chiches', 500)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    500g
                                </button>
                                <button onclick="setSuggestedQuantity('pois-chiches', 1000)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    1000g
                                </button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <button onclick="decreaseQuantity('pois-chiches')" class="bg-gray-200 hover:bg-gray-300 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-minus text-sm"></i>
                                </button>
                                <input type="number" id="pois-chiches-qty" value="0" min="0" step="10" 
                                       onchange="updateQuantity('pois-chiches', this.value)" 
                                       oninput="updateQuantity('pois-chiches', this.value)"
                                       class="text-lg font-semibold w-16 text-center border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                                <button onclick="increaseQuantity('pois-chiches')" class="bg-warm-brown hover:bg-brown-700 text-white w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-plus text-sm"></i>
                                </button>
                            </div>
                            <span id="pois-chiches-total" class="text-lg font-bold text-warm-brown">0 DH</span>
                        </div>
                        
                        <!-- Reviews Section -->
                        <div class="mt-4 pt-4 border-t border-gray-200">
                            <div class="flex items-center justify-between mb-2">
                                <div class="flex items-center">
                                    <div class="flex text-yellow-400">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                    <span class="text-sm text-gray-600 ml-2">4.6 (18 avis)</span>
                                </div>
                            </div>
                            
                            <!-- Recent Reviews -->
                            <div class="space-y-2">
                                <div class="text-sm">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold text-gray-800">Said H.</span>
                                        <div class="flex text-yellow-400 text-xs">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 text-xs mt-1">"Parfaits pour mes recettes!"</p>
                                </div>
                                
                                <div class="text-sm">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold text-gray-800">Nadia F.</span>
                                        <div class="flex text-yellow-400 text-xs">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 text-xs mt-1">"Excellent qualité"</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Product 5: Graines blanches - 2 DH -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden product-card" data-product-name="graines blanches">
                    <div class="h-48 bg-cover bg-center relative group product-image-carousel" data-product="graines-blanches" style="background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR0wDFjfmWkbsXwUw8qhipHDn1LE56yKgBpNw&s')">
                        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center">
                            <button onclick="openProductModal('graines-blanches')" class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white bg-opacity-90 hover:bg-opacity-100 text-warm-brown p-3 rounded-full shadow-lg transform hover:scale-110 transition-transform">
                                <i class="fas fa-eye text-xl"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-warm-brown mb-3" data-translate="graines_blanches_name">Graines blanches</h3>
                        <p class="text-gray-600 mb-4" data-translate="graines_blanches_desc">
                            Graines blanches naturelles, excellentes pour la santé et la nutrition.
                        </p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-2xl font-bold text-warm-brown price-display">2.00 DH/g</span>
                        </div>
                        <!-- Suggested Quantities -->
                        <div class="mb-4">
                            <p class="text-sm text-gray-600 mb-2" data-translate="suggested_quantities">Quantités suggérées:</p>
                            <div class="flex flex-wrap gap-2">
                                <button onclick="setSuggestedQuantity('graines-blanches', 100)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    100g
                                </button>
                                <button onclick="setSuggestedQuantity('graines-blanches', 200)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    200g
                                </button>
                                <button onclick="setSuggestedQuantity('graines-blanches', 250)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    250g
                                </button>
                                <button onclick="setSuggestedQuantity('graines-blanches', 500)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    500g
                                </button>
                                <button onclick="setSuggestedQuantity('graines-blanches', 1000)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    1000g
                                </button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <button onclick="decreaseQuantity('graines-blanches')" class="bg-gray-200 hover:bg-gray-300 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-minus text-sm"></i>
                                </button>
                                <input type="number" id="graines-blanches-qty" value="0" min="0" step="10" 
                                       onchange="updateQuantity('graines-blanches', this.value)" 
                                       oninput="updateQuantity('graines-blanches', this.value)"
                                       class="text-lg font-semibold w-16 text-center border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                                <button onclick="increaseQuantity('graines-blanches')" class="bg-warm-brown hover:bg-brown-700 text-white w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-plus text-sm"></i>
                                </button>
                            </div>
                            <span id="graines-blanches-total" class="text-lg font-bold text-warm-brown">0 DH</span>
                        </div>
                        
                        <!-- Reviews Section -->
                        <div class="mt-4 pt-4 border-t border-gray-200">
                            <div class="flex items-center justify-between mb-2">
                                <div class="flex items-center">
                                    <div class="flex text-yellow-400">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                    <span class="text-sm text-gray-600 ml-2">4.7 (16 avis)</span>
                                </div>
                            </div>
                            
                            <!-- Recent Reviews -->
                            <div class="space-y-2">
                                <div class="text-sm">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold text-gray-800">Khadija M.</span>
                                        <div class="flex text-yellow-400 text-xs">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 text-xs mt-1">"Très bonnes pour la santé!"</p>
                                </div>
                                
                                <div class="text-sm">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold text-gray-800">Ahmed L.</span>
                                        <div class="flex text-yellow-400 text-xs">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 text-xs mt-1">"Qualité exceptionnelle"</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Product 6: Amandes - 5 DH -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden product-card" data-product-name="amandes">
                    <div class="h-48 bg-cover bg-center relative group product-image-carousel" data-product="amandes" style="background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ3L7oGhxWbpwalFyid9U_mWWzpKGIRotWrNg&s')">
                        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center">
                            <button onclick="openProductModal('amandes')" class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white bg-opacity-90 hover:bg-opacity-100 text-warm-brown p-3 rounded-full shadow-lg transform hover:scale-110 transition-transform">
                                <i class="fas fa-eye text-xl"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-warm-brown mb-3" data-translate="amandes_name">Amandes</h3>
                        <p class="text-gray-600 mb-4" data-translate="amandes_desc">
                            Amandes premium du Maroc, riches en protéines et vitamines E. Parfaites pour une collation saine.
                        </p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-2xl font-bold text-warm-brown price-display">5.00 DH/g</span>
                        </div>
                        <!-- Suggested Quantities -->
                        <div class="mb-4">
                            <p class="text-sm text-gray-600 mb-2" data-translate="suggested_quantities">Quantités suggérées:</p>
                            <div class="flex flex-wrap gap-2">
                                <button onclick="setSuggestedQuantity('amandes', 100)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    100g
                                </button>
                                <button onclick="setSuggestedQuantity('amandes', 200)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    200g
                                </button>
                                <button onclick="setSuggestedQuantity('amandes', 250)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    250g
                                </button>
                                <button onclick="setSuggestedQuantity('amandes', 500)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    500g
                                </button>
                                <button onclick="setSuggestedQuantity('amandes', 1000)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    1000g
                                </button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <button onclick="decreaseQuantity('amandes')" class="bg-gray-200 hover:bg-gray-300 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-minus text-sm"></i>
                                </button>
                                <input type="number" id="amandes-qty" value="0" min="0" step="10" 
                                       onchange="updateQuantity('amandes', this.value)" 
                                       oninput="updateQuantity('amandes', this.value)"
                                       class="text-lg font-semibold w-16 text-center border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                                <button onclick="increaseQuantity('amandes')" class="bg-warm-brown hover:bg-brown-700 text-white w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-plus text-sm"></i>
                                </button>
                            </div>
                            <span id="amandes-total" class="text-lg font-bold text-warm-brown">0 DH</span>
                        </div>
                        
                        <!-- Reviews Section -->
                        <div class="mt-4 pt-4 border-t border-gray-200">
                            <div class="flex items-center justify-between mb-2">
                                <div class="flex items-center">
                                    <div class="flex text-yellow-400">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                    <span class="text-sm text-gray-600 ml-2">4.8 (24 avis)</span>
                                </div>
                            </div>
                            
                            <!-- Recent Reviews -->
                            <div class="space-y-2">
                                <div class="text-sm">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold text-gray-800">Amina M.</span>
                                        <div class="flex text-yellow-400 text-xs">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 text-xs mt-1">"Excellent qualité, très fraîches!"</p>
                                </div>
                                
                                <div class="text-sm">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold text-gray-800">Rachid F.</span>
                                        <div class="flex text-yellow-400 text-xs">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 text-xs mt-1">"Excellent pour toute la famille"</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Product 7: Pistaches - 6 DH -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden product-card" data-product-name="pistaches">
                    <div class="h-48 bg-cover bg-center relative group product-image-carousel" data-product="pistaches" style="background-image: url('https://observatoire-des-aliments.fr/wp-content/uploads/2021/11/pistaches-696x393.jpg')">
                        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center">
                            <button onclick="openProductModal('pistaches')" class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white bg-opacity-90 hover:bg-opacity-100 text-warm-brown p-3 rounded-full shadow-lg transform hover:scale-110 transition-transform">
                                <i class="fas fa-eye text-xl"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-warm-brown mb-3" data-translate="pistaches_name">Pistaches</h3>
                        <p class="text-gray-600 mb-4" data-translate="pistaches_desc">
                            Pistaches premium, croquantes et savoureuses. Excellente source de protéines et de bons gras.
                        </p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-2xl font-bold text-warm-brown price-display">6.00 DH/g</span>
                        </div>
                        <!-- Suggested Quantities -->
                        <div class="mb-4">
                            <p class="text-sm text-gray-600 mb-2" data-translate="suggested_quantities">Quantités suggérées:</p>
                            <div class="flex flex-wrap gap-2">
                                <button onclick="setSuggestedQuantity('pistaches', 100)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    100g
                                </button>
                                <button onclick="setSuggestedQuantity('pistaches', 200)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    200g
                                </button>
                                <button onclick="setSuggestedQuantity('pistaches', 250)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    250g
                                </button>
                                <button onclick="setSuggestedQuantity('pistaches', 500)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    500g
                                </button>
                                <button onclick="setSuggestedQuantity('pistaches', 1000)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    1000g
                                </button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <button onclick="decreaseQuantity('pistaches')" class="bg-gray-200 hover:bg-gray-300 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-minus text-sm"></i>
                                </button>
                                <input type="number" id="pistaches-qty" value="0" min="0" step="10" 
                                       onchange="updateQuantity('pistaches', this.value)" 
                                       oninput="updateQuantity('pistaches', this.value)"
                                       class="text-lg font-semibold w-16 text-center border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                                <button onclick="increaseQuantity('pistaches')" class="bg-warm-brown hover:bg-brown-700 text-white w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-plus text-sm"></i>
                                </button>
                            </div>
                            <span id="pistaches-total" class="text-lg font-bold text-warm-brown">0 DH</span>
                        </div>
                        
                        <!-- Reviews Section -->
                        <div class="mt-4 pt-4 border-t border-gray-200">
                            <div class="flex items-center justify-between mb-2">
                                <div class="flex items-center">
                                    <div class="flex text-yellow-400">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                    <span class="text-sm text-gray-600 ml-2">4.9 (28 avis)</span>
                                </div>
                            </div>
                            
                            <!-- Recent Reviews -->
                            <div class="space-y-2">
                                <div class="text-sm">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold text-gray-800">Samira K.</span>
                                        <div class="flex text-yellow-400 text-xs">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 text-xs mt-1">"Les meilleures pistaches que j'ai goûtées!"</p>
                                </div>
                                
                                <div class="text-sm">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold text-gray-800">Hassan M.</span>
                                        <div class="flex text-yellow-400 text-xs">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 text-xs mt-1">"Parfaites pour l'apéritif"</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Product 8: Noix de cajou - 6 DH -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden product-card" data-product-name="noix de cajou">
                    <div class="h-48 bg-cover bg-center relative group product-image-carousel" data-product="noix-cajou" style="background-image: url('https://images.prismic.io/la-fourche/a2e39df0-fe56-4854-81c0-d98cb2622740_noix+de+cajou+.jpg?auto=compress,format')">
                        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-center justify-center">
                            <button onclick="openProductModal('noix-cajou')" class="opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-white bg-opacity-90 hover:bg-opacity-100 text-warm-brown p-3 rounded-full shadow-lg transform hover:scale-110 transition-transform">
                                <i class="fas fa-eye text-xl"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-warm-brown mb-3" data-translate="noix_cajou_name">Noix de cajou</h3>
                        <p class="text-gray-600 mb-4" data-translate="noix_cajou_desc">
                            Noix de cajou grillées à sec, sans huile ajoutée. Croquantes et délicieuses, riches en minéraux essentiels.
                        </p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-2xl font-bold text-warm-brown price-display">6.00 DH/g</span>
                        </div>
                        <!-- Suggested Quantities -->
                        <div class="mb-4">
                            <p class="text-sm text-gray-600 mb-2" data-translate="suggested_quantities">Quantités suggérées:</p>
                            <div class="flex flex-wrap gap-2">
                                <button onclick="setSuggestedQuantity('noix-cajou', 100)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    100g
                                </button>
                                <button onclick="setSuggestedQuantity('noix-cajou', 200)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    200g
                                </button>
                                <button onclick="setSuggestedQuantity('noix-cajou', 250)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    250g
                                </button>
                                <button onclick="setSuggestedQuantity('noix-cajou', 500)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    500g
                                </button>
                                <button onclick="setSuggestedQuantity('noix-cajou', 1000)" class="bg-gray-100 hover:bg-warm-brown hover:text-white text-gray-700 px-3 py-1 rounded-full text-sm transition-colors">
                                    1000g
                                </button>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <button onclick="decreaseQuantity('noix-cajou')" class="bg-gray-200 hover:bg-gray-300 text-gray-700 w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-minus text-sm"></i>
                                </button>
                                <input type="number" id="noix-cajou-qty" value="0" min="0" step="10" 
                                       onchange="updateQuantity('noix-cajou', this.value)" 
                                       oninput="updateQuantity('noix-cajou', this.value)"
                                       class="text-lg font-semibold w-16 text-center border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                                <button onclick="increaseQuantity('noix-cajou')" class="bg-warm-brown hover:bg-brown-700 text-white w-8 h-8 rounded-full flex items-center justify-center">
                                    <i class="fas fa-plus text-sm"></i>
                                </button>
                            </div>
                            <span id="noix-cajou-total" class="text-lg font-bold text-warm-brown">0 DH</span>
                        </div>
                        
                        <!-- Reviews Section -->
                        <div class="mt-4 pt-4 border-t border-gray-200">
                            <div class="flex items-center justify-between mb-2">
                                <div class="flex items-center">
                                    <div class="flex text-yellow-400">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                    <span class="text-sm text-gray-600 ml-2">4.6 (22 avis)</span>
                                </div>
                            </div>
                            
                            <!-- Recent Reviews -->
                            <div class="space-y-2">
                                <div class="text-sm">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold text-gray-800">Aicha S.</span>
                                        <div class="flex text-yellow-400 text-xs">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 text-xs mt-1">"Très croquantes et délicieuses!"</p>
                                </div>
                                
                                <div class="text-sm">
                                    <div class="flex items-center justify-between">
                                        <span class="font-semibold text-gray-800">Mehdi T.</span>
                                        <div class="flex text-yellow-400 text-xs">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 text-xs mt-1">"Parfaites pour l'apéritif"</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Customer Information -->
    <section class="py-16 bg-white">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-white rounded-2xl shadow-lg p-8">
                <h2 class="text-2xl font-bold text-warm-brown mb-6 text-center" data-translate="customer_info_title">Vos Informations</h2>
                
                <form id="customer-form" class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label for="customer-name" class="block text-sm font-medium text-gray-700 mb-2" data-translate="name_label">Nom complet *</label>
                        <input type="text" id="customer-name" name="name" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                    </div>
                    
                    <div>
                        <label for="customer-email" class="block text-sm font-medium text-gray-700 mb-2" data-translate="email_label">Email *</label>
                        <input type="email" id="customer-email" name="email" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                    </div>
                    
                    <div>
                        <label for="customer-phone" class="block text-sm font-medium text-gray-700 mb-2" data-translate="phone_label">Téléphone *</label>
                        <input type="tel" id="customer-phone" name="phone" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                    </div>
                    
                    <div>
                        <label for="delivery-date" class="block text-sm font-medium text-gray-700 mb-2" data-translate="delivery_date_label">Date de livraison souhaitée *</label>
                        <input type="date" id="delivery-date" name="delivery-date" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-warm-brown focus:border-transparent">
                    </div>
                    
                    <div class="md:col-span-2">
                        <label for="delivery-address" class="block text-sm font-medium text-gray-700 mb-2" data-translate="address_label">Adresse de livraison complète *</label>
                        <textarea id="delivery-address" name="address" rows="3" required 
                                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-warm-brown focus:border-transparent"
                                  placeholder="Rue, numéro, ville, code postal..."></textarea>
                    </div>
                    
                    <div class="md:col-span-2">
                        <label for="delivery-notes" class="block text-sm font-medium text-gray-700 mb-2" data-translate="notes_label">Notes de livraison (optionnel)</label>
                        <textarea id="delivery-notes" name="notes" rows="2" 
                                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-warm-brown focus:border-transparent"
                                  placeholder="Instructions spéciales, horaires préférés..."></textarea>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Order Summary -->
    <section class="py-16 bg-beige">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-white rounded-2xl shadow-lg p-8">
                <h2 class="text-2xl font-bold text-warm-brown mb-6 text-center" data-translate="order_summary_title">Résumé de votre commande</h2>
                
                <div id="order-summary" class="space-y-4 mb-8">
                    <!-- Order items will be populated here -->
                </div>
                
                <div class="border-t pt-6">
                    <div class="flex justify-between items-center mb-6">
                        <span class="text-xl font-bold text-warm-brown" data-translate="total_label">Total:</span>
                        <span id="grand-total" class="text-2xl font-bold text-warm-brown">0€</span>
                    </div>
                    
                    <!-- Paiement échelonné (uniquement pour vente en gros) -->
                    <div id="installment-section" class="mb-6 p-4 bg-blue-50 rounded-lg" style="display: none;">
                        <h4 class="text-lg font-semibold text-blue-800 mb-3">
                            <i class="fas fa-credit-card mr-2"></i>
                            <span data-translate="installment_title">Paiement Échelonné</span>
                        </h4>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Nombre d'échéances
                                </label>
                                <select id="installment-count" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="1">Paiement unique</option>
                                    <option value="2">2 échéances</option>
                                    <option value="3">3 échéances</option>
                                    <option value="6">6 échéances</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Montant par échéance
                                </label>
                                <div id="installment-amount" class="text-lg font-bold text-blue-600">
                                    -- DH
                                </div>
                            </div>
                        </div>
                        <p class="text-sm text-gray-600 mt-2">
                            <i class="fas fa-info-circle mr-1"></i>
                            Le paiement échelonné est disponible uniquement pour les commandes en gros (minimum 500 DH)
                        </p>
                    </div>

                    <div class="text-center">
                        <button id="whatsapp-order" onclick="sendToWhatsApp()" 
                                class="bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-8 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"
                                disabled>
                            <i class="fab fa-whatsapp mr-2"></i>
                            Commander via WhatsApp
                        </button>
                        <p class="text-sm text-gray-600 mt-2">
                            Vous serez redirigé vers WhatsApp pour finaliser votre commande
                        </p>
                        <p class="text-sm text-warm-brown mt-1 font-semibold" id="min-order-text">
                            Commande minimum : 100 DH (50g minimum)
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h3 class="text-2xl font-bold text-light-gold mb-4">À Propos de BeldiNuts</h3>
            <p class="text-gray-300 mb-4">
                Votre partenaire pour une alimentation saine et naturelle
            </p>
            <div class="flex justify-center space-x-6">
                <a href="index.html" class="text-gray-300 hover:text-light-gold transition-colors">Accueil</a>
                <a href="index.html#produits" class="text-gray-300 hover:text-light-gold transition-colors">Produits</a>
                <a href="index.html#contact" class="text-gray-300 hover:text-light-gold transition-colors">Contact</a>
            </div>
        </div>
    </footer>

    <script>
        // Product data - Prix de base en DH par gramme
        const products = {
            'graines-noires': { name: 'Graines noires', basePrice: 1 },
            'cacao-normal': { name: 'Cacao normal', basePrice: 2 },
            'cacao-fume': { name: 'Cacao fumé', basePrice: 2 },
            'pois-chiches': { name: 'Pois chiches', basePrice: 2 },
            'graines-blanches': { name: 'Graines blanches', basePrice: 2 },
            'amandes': { name: 'Amandes', basePrice: 5 },
            'pistaches': { name: 'Pistaches', basePrice: 6 },
            'noix-cajou': { name: 'Noix de cajou', basePrice: 6 }
        };

        // Detailed product information for modal
        const productDetails = {
            'graines-noires': {
                name: 'Graines noires',
                description: 'Graines noires naturelles et savoureuses, riches en nutriments essentiels. Parfaites pour une alimentation saine et équilibrée.',
                image: 'https://www.shutterstock.com/image-photo/sunflower-seed-isolated-on-white-600nw-2458579765.jpg',
                benefits: [
                    'Riches en protéines végétales',
                    'Excellente source de fibres',
                    'Contiennent des vitamines essentielles',
                    'Riches en minéraux',
                    'Aident à maintenir une bonne santé',
                    'Source naturelle d\'énergie'
                ],
                usage: [
                    'Collation saine',
                    'Ajout dans les salades',
                    'Ingrédient dans les plats',
                    'Mélange avec d\'autres graines',
                    'Consommation quotidienne'
                ],
                storage: 'Conserver dans un endroit frais et sec, à l\'abri de la lumière.'
            },
            'cacao-normal': {
                name: 'Cacao normal',
                description: 'Cacao de qualité supérieure, naturel et riche en antioxydants. Parfait pour les amateurs de cacao authentique.',
                image: 'https://i.ytimg.com/vi/d7qetuMtgAc/maxresdefault.jpg',
                benefits: [
                    'Riche en antioxydants',
                    'Améliore l\'humeur',
                    'Source de magnésium',
                    'Contient des flavonoïdes',
                    'Aide à réduire le stress',
                    'Bénéfique pour le cœur'
                ],
                usage: [
                    'Boisson chaude ou froide',
                    'Pâtisseries et desserts',
                    'Smoothies',
                    'Recettes culinaires',
                    'Consommation directe'
                ],
                storage: 'Conserver dans un endroit frais et sec, à l\'abri de l\'humidité.'
            },
            'cacao-fume': {
                name: 'Cacao fumé',
                description: 'Cacao avec une saveur fumée unique, parfait pour les amateurs de goûts intenses et authentiques.',
                image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTfcq8vM9bF_LmLGLermWnYww1mVfVg7k1xIw&s',
                benefits: [
                    'Saveur fumée unique',
                    'Riche en antioxydants',
                    'Source de magnésium',
                    'Contient des flavonoïdes',
                    'Aide à réduire le stress',
                    'Bénéfique pour la santé'
                ],
                usage: [
                    'Boisson chaude',
                    'Pâtisseries spéciales',
                    'Recettes traditionnelles',
                    'Consommation comme snack',
                    'Mélange avec d\'autres ingrédients'
                ],
                storage: 'Conserver dans un endroit frais et sec, à l\'abri de l\'humidité.'
            },
            'pois-chiches': {
                name: 'Pois chiches',
                description: 'Pois chiches secs, riches en protéines végétales et fibres. Parfaits pour vos recettes et votre alimentation.',
                image: 'https://www.goji.ma/cdn/shop/products/pois-chiche-vrac.png?v=1717869605',
                benefits: [
                    'Riches en protéines végétales',
                    'Excellente source de fibres',
                    'Contiennent du fer et du zinc',
                    'Faible en gras',
                    'Aident à la digestion',
                    'Source d\'énergie'
                ],
                usage: [
                    'Plats traditionnels',
                    'Salades et houmous',
                    'Soupes et ragoûts',
                    'Recettes végétariennes',
                    'Snacks grillés'
                ],
                storage: 'Conserver dans un endroit frais et sec. Tremper avant cuisson.'
            },
            'graines-blanches': {
                name: 'Graines blanches',
                description: 'Graines blanches naturelles, excellentes pour la santé et la nutrition. Parfaites pour une alimentation équilibrée.',
                image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR0wDFjfmWkbsXwUw8qhipHDn1LE56yKgBpNw&s',
                benefits: [
                    'Riches en protéines',
                    'Excellente source de fibres',
                    'Contiennent des vitamines',
                    'Riches en minéraux',
                    'Aident à maintenir la santé',
                    'Source naturelle d\'énergie'
                ],
                usage: [
                    'Collation saine',
                    'Ajout dans les plats',
                    'Salades',
                    'Mélange avec autres graines',
                    'Consommation quotidienne'
                ],
                storage: 'Conserver dans un endroit frais et sec, à l\'abri de la lumière.'
            },
            'amandes': {
                name: 'Amandes',
                description: 'Amandes premium du Maroc, riches en protéines et vitamines E. Parfaites pour une collation saine.',
                image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ3L7oGhxWbpwalFyid9U_mWWzpKGIRotWrNg&s',
                benefits: [
                    'Riches en protéines végétales (21g/100g)',
                    'Excellente source de vitamine E',
                    'Contiennent du magnésium',
                    'Riches en fibres',
                    'Aident à réduire le cholestérol',
                    'Parfaites pour les sportifs'
                ],
                usage: [
                    'Collation saine',
                    'Ajout dans les salades',
                    'Pâtisseries et desserts',
                    'Mélange avec autres fruits secs',
                    'Consommation avant ou après sport'
                ],
                storage: 'Conserver dans un endroit frais et sec, à l\'abri de la lumière.'
            },
            'pistaches': {
                name: 'Pistaches',
                description: 'Pistaches premium, croquantes et savoureuses. Excellente source de protéines et de bons gras.',
                image: 'https://observatoire-des-aliments.fr/wp-content/uploads/2021/11/pistaches-696x393.jpg',
                benefits: [
                    'Riches en protéines',
                    'Excellente source de bons gras',
                    'Contiennent des antioxydants',
                    'Riches en vitamines B',
                    'Aident à la santé cardiaque',
                    'Parfaites pour l\'apéritif'
                ],
                usage: [
                    'Snack pour l\'apéritif',
                    'Ajout dans les plats',
                    'Pâtisseries',
                    'Salades',
                    'Consommation comme collation'
                ],
                storage: 'Conserver dans un endroit frais et sec, à l\'abri de l\'humidité.'
            },
            'noix-cajou': {
                name: 'Noix de cajou',
                description: 'Noix de cajou grillées à sec, sans huile ajoutée. Croquantes et délicieuses, riches en minéraux essentiels.',
                image: 'https://images.prismic.io/la-fourche/a2e39df0-fe56-4854-81c0-d98cb2622740_noix+de+cajou+.jpg?auto=compress,format',
                benefits: [
                    'Riches en protéines végétales (18g/100g)',
                    'Excellente source de magnésium',
                    'Contiennent du zinc',
                    'Riches en cuivre et phosphore',
                    'Aident à maintenir la santé osseuse',
                    'Contiennent des graisses monoinsaturées'
                ],
                usage: [
                    'Snack pour l\'apéritif',
                    'Ajout dans les plats asiatiques',
                    'Salades',
                    'Mélange avec autres fruits secs',
                    'Consommation comme collation'
                ],
                storage: 'Conserver dans un récipient hermétique à l\'abri de la lumière et de l\'humidité.'
            }
        };

        // Taux de change (approximatifs - taux réels 2024)
        const exchangeRates = {
            MAD: 1,      // Dirham marocain (devise de base)
            EUR: 0.092,  // 1 DH = 0.092 EUR (environ 10.87 DH = 1 EUR)
            USD: 0.099   // 1 DH = 0.099 USD (environ 10.10 DH = 1 USD)
        };

        // Devise actuelle
        let currentCurrency = 'MAD';
        
        // Langue actuelle
        let currentLanguage = 'fr';
        
        // Type de vente actuel
        let saleType = 'retail'; // 'retail' ou 'wholesale'
        
        // Dictionnaire de traductions
        const translations = {
            fr: {
                nav_home: "Accueil",
                nav_about: "À propos",
                nav_products: "Produits",
                nav_order: "Commander",
                nav_contact: "Contact",
                page_title: "Commander vos Produits",
                page_subtitle: "Sélectionnez vos produits préférés et commandez directement via WhatsApp",
                search_placeholder: "Rechercher un produit (amandes, noix, dattes...)",
                search_help: "Recherchez un produit et choisissez votre devise",
                customer_info_title: "Vos Informations",
                name_label: "Nom complet",
                email_label: "Email",
                phone_label: "Téléphone",
                delivery_date_label: "Date de livraison souhaitée",
                address_label: "Adresse de livraison complète",
                address_placeholder: "Rue, numéro, ville, code postal...",
                notes_label: "Notes de livraison (optionnel)",
                notes_placeholder: "Instructions spéciales, horaires préférés...",
                order_summary_title: "Résumé de votre commande",
                total_label: "Total:",
                whatsapp_button: "Commander via WhatsApp",
                whatsapp_help: "Vous serez redirigé vers WhatsApp pour finaliser votre commande",
                min_order: "Commande minimum : 100 DH (50g minimum)",
                no_products: "Aucun produit sélectionné",
                no_results_title: "Aucun produit trouvé",
                no_results_text: "Essayez avec d'autres mots-clés comme \"amandes\", \"noix\", \"dattes\"...",
                graines_noires_name: "Graines noires",
                graines_noires_desc: "Graines noires naturelles et savoureuses, riches en nutriments essentiels.",
                cacao_normal_name: "Cacao normal",
                cacao_normal_desc: "Cacao de qualité supérieure, naturel et riche en antioxydants.",
                cacao_fume_name: "Cacao fumé",
                cacao_fume_desc: "Cacao avec une saveur fumée unique, parfait pour les amateurs de goûts intenses.",
                pois_chiches_name: "Pois chiches",
                pois_chiches_desc: "Pois chiches secs, riches en protéines végétales et fibres. Parfaits pour vos recettes.",
                graines_blanches_name: "Graines blanches",
                graines_blanches_desc: "Graines blanches naturelles, excellentes pour la santé et la nutrition.",
                amandes_name: "Amandes",
                amandes_desc: "Amandes premium du Maroc, riches en protéines et vitamines E. Parfaites pour une collation saine.",
                pistaches_name: "Pistaches",
                pistaches_desc: "Pistaches premium, croquantes et savoureuses. Excellente source de protéines et de bons gras.",
                noix_cajou_name: "Noix de cajou",
                noix_cajou_desc: "Noix de cajou grillées à sec, sans huile ajoutée. Croquantes et délicieuses, riches en minéraux essentiels.",
                sale_type_title: "Type de Vente",
                retail_sale: "Vente Particulière",
                retail_desc: "Prix par gramme",
                wholesale_sale: "Vente en Gros",
                wholesale_desc: "Prix par pièce",
                installment_title: "Paiement Échelonné",
                packs_title: "Packs Recommandés",
                packs_subtitle: "Économisez avec nos packs de produits sélectionnés",
                pack_sport_name: "Pack Sport",
                pack_sport_desc: "Énergie pour les sportifs",
                pack_sport_item1: "100g Amandes",
                pack_sport_item2: "100g Dattes",
                pack_sport_item3: "100g Raisins",
                pack_famille_name: "Pack Famille",
                pack_famille_desc: "Idéal pour toute la famille",
                pack_famille_item1: "150g Amandes",
                pack_famille_item2: "150g Noix",
                pack_famille_item3: "100g Dattes",
                pack_famille_item4: "100g Cajous",
                pack_colleges_name: "Pack Collèges",
                pack_colleges_desc: "Étudiants et collèges",
                pack_colleges_item1: "200g Amandes",
                pack_colleges_item2: "200g Dattes",
                pack_colleges_item3: "200g Raisins",
                pack_decouverte_name: "Pack Découverte",
                pack_decouverte_desc: "Parfait pour commencer",
                pack_decouverte_item1: "50g Amandes",
                pack_decouverte_item2: "50g Noix",
                pack_decouverte_item3: "50g Dattes",
                pack_premium_name: "Pack Premium",
                pack_premium_desc: "Notre sélection d'exception",
                pack_premium_item1: "300g Amandes",
                pack_premium_item2: "300g Noix",
                pack_premium_item3: "300g Dattes",
                pack_premium_item4: "300g Cajous",
                pack_premium_item5: "300g Raisins",
                add_pack: "Ajouter Pack",
                suggested_quantities: "Quantités suggérées:"
            },
            ar: {
                nav_home: "الرئيسية",
                nav_about: "من نحن",
                nav_products: "المنتجات",
                nav_order: "اطلب",
                nav_contact: "اتصل بنا",
                page_title: "اطلب منتجاتك",
                page_subtitle: "اختر منتجاتك المفضلة واطلب مباشرة عبر واتساب",
                search_placeholder: "البحث عن منتج (لوز، جوز، تمر...)",
                search_help: "ابحث عن منتج واختر عملتك",
                customer_info_title: "معلوماتك",
                name_label: "الاسم الكامل",
                email_label: "البريد الإلكتروني",
                phone_label: "الهاتف",
                delivery_date_label: "تاريخ التسليم المطلوب",
                address_label: "عنوان التسليم الكامل",
                address_placeholder: "الشارع، الرقم، المدينة، الرمز البريدي...",
                notes_label: "ملاحظات التسليم (اختياري)",
                notes_placeholder: "تعليمات خاصة، أوقات مفضلة...",
                order_summary_title: "ملخص طلبك",
                total_label: "المجموع:",
                whatsapp_button: "اطلب عبر واتساب",
                whatsapp_help: "سيتم توجيهك إلى واتساب لإتمام طلبك",
                min_order: "الحد الأدنى للطلب: 100 درهم (50 جرام على الأقل)",
                no_products: "لم يتم اختيار أي منتج",
                no_results_title: "لم يتم العثور على منتجات",
                no_results_text: "جرب كلمات مفتاحية أخرى مثل \"لوز\"، \"جوز\"، \"تمر\"...",
                graines_noires_name: "بذور سوداء",
                graines_noires_desc: "بذور سوداء طبيعية ولذيذة، غنية بالعناصر الغذائية الأساسية.",
                cacao_normal_name: "كاكاو عادي",
                cacao_normal_desc: "كاكاو عالي الجودة، طبيعي وغني بمضادات الأكسدة.",
                cacao_fume_name: "كاكاو مدخن",
                cacao_fume_desc: "كاكاو بنكهة مدخنة فريدة، مثالي لعشاق الأذواق القوية.",
                pois_chiches_name: "حمص",
                pois_chiches_desc: "حمص مجفف، غني بالبروتينات النباتية والألياف. مثالي لوصفاتك.",
                graines_blanches_name: "بذور بيضاء",
                graines_blanches_desc: "بذور بيضاء طبيعية، ممتازة للصحة والتغذية.",
                amandes_name: "لوز",
                amandes_desc: "لوز ممتاز من المغرب، غني بالبروتينات وفيتامين E. مثالي لوجبة خفيفة صحية.",
                pistaches_name: "فستق",
                pistaches_desc: "فستق ممتاز، مقرمش ولذيذ. مصدر ممتاز للبروتينات والدهون الجيدة.",
                noix_cajou_name: "كاجو",
                noix_cajou_desc: "كاجو محمص جافاً، بدون زيت مضاف. مقرمش ولذيذ، غني بالمعادن الأساسية.",
                sale_type_title: "نوع البيع",
                retail_sale: "بيع بالتجزئة",
                retail_desc: "سعر بالغرام",
                wholesale_sale: "بيع بالجملة",
                wholesale_desc: "سعر بالقطعة",
                installment_title: "الدفع على أقساط",
                suggested_quantities: "الكميات المقترحة:"
            },
            en: {
                nav_home: "Home",
                nav_about: "About",
                nav_products: "Products",
                nav_order: "Order",
                nav_contact: "Contact",
                page_title: "Order Your Products",
                page_subtitle: "Select your favorite products and order directly via WhatsApp",
                search_placeholder: "Search for a product (almonds, nuts, dates...)",
                search_help: "Search for a product and choose your currency",
                customer_info_title: "Your Information",
                name_label: "Full Name",
                email_label: "Email",
                phone_label: "Phone",
                delivery_date_label: "Preferred delivery date",
                address_label: "Complete delivery address",
                address_placeholder: "Street, number, city, postal code...",
                notes_label: "Delivery notes (optional)",
                notes_placeholder: "Special instructions, preferred times...",
                order_summary_title: "Order Summary",
                total_label: "Total:",
                whatsapp_button: "Order via WhatsApp",
                whatsapp_help: "You will be redirected to WhatsApp to finalize your order",
                min_order: "Minimum order: 100 DH (50g minimum)",
                no_products: "No products selected",
                no_results_title: "No products found",
                no_results_text: "Try other keywords like \"almonds\", \"nuts\", \"dates\"...",
                graines_noires_name: "Black seeds",
                graines_noires_desc: "Natural and flavorful black seeds, rich in essential nutrients.",
                cacao_normal_name: "Normal cocoa",
                cacao_normal_desc: "Premium quality cocoa, natural and rich in antioxidants.",
                cacao_fume_name: "Smoked cocoa",
                cacao_fume_desc: "Cocoa with a unique smoky flavor, perfect for those who love intense tastes.",
                pois_chiches_name: "Chickpeas",
                pois_chiches_desc: "Dried chickpeas, rich in plant proteins and fiber. Perfect for your recipes.",
                graines_blanches_name: "White seeds",
                graines_blanches_desc: "Natural white seeds, excellent for health and nutrition.",
                amandes_name: "Almonds",
                amandes_desc: "Premium Moroccan almonds, rich in proteins and vitamin E. Perfect for a healthy snack.",
                pistaches_name: "Pistachios",
                pistaches_desc: "Premium pistachios, crunchy and flavorful. Excellent source of proteins and good fats.",
                noix_cajou_name: "Cashew nuts",
                noix_cajou_desc: "Dry roasted cashew nuts, without added oil. Crunchy and delicious, rich in essential minerals.",
                sale_type_title: "Sale Type",
                retail_sale: "Retail Sale",
                retail_desc: "Price per gram",
                wholesale_sale: "Wholesale Sale",
                wholesale_desc: "Price per piece",
                installment_title: "Installment Payment",
                suggested_quantities: "Suggested quantities:"
            }
        };

        // Données de vente en gros
        const wholesaleProducts = {
            amandes: {
                name: "Amandes du Maroc",
                pricePerPiece: 600, // DH par pièce
                weightPerPiece: 5, // kg par pièce
                packaging: "Sac de 5 kg"
            },
            noix: {
                name: "Noix de Grenoble", 
                pricePerPiece: 500,
                weightPerPiece: 5,
                packaging: "Sac de 5 kg"
            },
            dattes: {
                name: "Dattes Medjool",
                pricePerPiece: 400,
                weightPerPiece: 5,
                packaging: "Sac de 5 kg"
            },
            cajou: {
                name: "Noix de Cajou",
                pricePerPiece: 600,
                weightPerPiece: 5,
                packaging: "Sac de 5 kg"
            },
            raisins: {
                name: "Raisins Secs",
                pricePerPiece: 300,
                weightPerPiece: 5,
                packaging: "Sac de 5 kg"
            },
            melange: {
                name: "Mélange Premium",
                pricePerPiece: 550,
                weightPerPiece: 5,
                packaging: "Sac de 5 kg"
            }
        };

        // Cart state
        let cart = {};

        // Pack data
        const packs = {
            sport: {
                name: 'Pack Sport',
                price: 300,
                originalPrice: 360,
                products: {
                    amandes: 100,
                    dattes: 100,
                    raisins: 100
                }
            },
            famille: {
                name: 'Pack Famille',
                price: 500,
                originalPrice: 600,
                products: {
                    amandes: 150,
                    noix: 150,
                    dattes: 100,
                    cajou: 100
                }
            },
            colleges: {
                name: 'Pack Collèges',
                price: 400,
                originalPrice: 480,
                products: {
                    amandes: 200,
                    dattes: 200,
                    raisins: 200
                }
            },
            decouverte: {
                name: 'Pack Découverte',
                price: 150,
                originalPrice: 180,
                products: {
                    amandes: 50,
                    noix: 50,
                    dattes: 50
                }
            },
            premium: {
                name: 'Pack Premium',
                price: 1500,
                originalPrice: 1800,
                products: {
                    amandes: 300,
                    noix: 300,
                    dattes: 300,
                    cajou: 300,
                    raisins: 300
                }
            }
        };

        // Product images data for carousel
        const productImages = {
            'graines-noires': [
                'https://www.shutterstock.com/image-photo/sunflower-seed-isolated-on-white-600nw-2458579765.jpg',
                'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQu98NHVkXGMD3PhWHzshQTNaXlSkrBV3-u9A&s',
                'https://toppng.com/uploads/preview/sunflower-seeds-has-great-demand-in-foreign-markets-sunflower-seed-11563167725dy168k8izy.png'
            ],
            'cacao-normal': [
                'https://i.ytimg.com/vi/d7qetuMtgAc/maxresdefault.jpg',
                'https://img-global.cpcdn.com/recipes/69eef4ecb5630368/680x781cq80/%D8%A7%D9%84%D8%B5%D9%88%D8%B1%D8%A9-%D8%A7%D9%84%D8%B1%D8%A6%D9%8A%D8%B3%D9%8A%D8%A9-%D9%84%D9%88%D8%B5%D9%81%D8%A9%D9%83%D8%A7%D9%88%D9%83%D8%A7%D9%88-%D8%A8%D8%A7%D9%84%D9%85%D9%84%D8%AD-%D9%85%D9%82%D9%84%D9%8A.jpg'
            ],
            'cacao-fume': [
                'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTfcq8vM9bF_LmLGLermWnYww1mVfVg7k1xIw&s',
                'https://i.ytimg.com/vi/9iNywbLtCFc/maxresdefault.jpg'
            ],
            'pois-chiches': [
                'https://www.goji.ma/cdn/shop/products/pois-chiche-vrac.png?v=1717869605',
                'https://aswandir.com/wp-content/uploads/2025/01/%D8%AD%D9%85%D8%B52.jpg'
            ],
            'graines-blanches': [
                'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR0wDFjfmWkbsXwUw8qhipHDn1LE56yKgBpNw&s',
                'https://www.mymarket.ma/cdn/shop/products/7009.jpg?v=1590780999'
            ],
            'amandes': [
                'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ3L7oGhxWbpwalFyid9U_mWWzpKGIRotWrNg&s',
                'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRQNWcfXax2IRgumTE2oc2epOOli3IOD-_E-g&s'
            ],
            'pistaches': [
                'https://observatoire-des-aliments.fr/wp-content/uploads/2021/11/pistaches-696x393.jpg',
                'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRNMvGhhnVX5Y2nmvSD6wRT3KMo_eAReV5cblspohS2KD4XB59dHy5oI4JIShfgVQa_hUs&usqp=CAU'
            ],
            'noix-cajou': [
                'https://images.prismic.io/la-fourche/a2e39df0-fe56-4854-81c0-d98cb2622740_noix+de+cajou+.jpg?auto=compress,format',
                'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSHXwlxR3H70y7dHNOGejGkt-4_ZSqE39Ghi-AmcgG3A9VsP82AkB93gmONz7O1Nf9tj_k&usqp=CAU'
            ]
        };

        // Auto-scroll product images
        function initProductImageCarousel() {
            const carousels = document.querySelectorAll('.product-image-carousel');
            
            carousels.forEach(carousel => {
                const productId = carousel.getAttribute('data-product');
                const images = productImages[productId];
                
                if (!images || images.length <= 1) return;
                
                let currentIndex = 0;
                let isHovered = false;
                
                // Pause on hover
                carousel.parentElement.addEventListener('mouseenter', () => {
                    isHovered = true;
                });
                
                carousel.parentElement.addEventListener('mouseleave', () => {
                    isHovered = false;
                });
                
                // Start carousel after 2 seconds
                setTimeout(() => {
                    function changeImage() {
                        if (isHovered) {
                            setTimeout(changeImage, 500);
                            return;
                        }
                        
                        currentIndex = (currentIndex + 1) % images.length;
                        carousel.classList.add('animating');
                        carousel.style.backgroundImage = `url('${images[currentIndex]}')`;
                        
                        setTimeout(() => {
                            carousel.classList.remove('animating');
                        }, 800);
                        
                        // Continue changing every 2 seconds
                        setTimeout(changeImage, 2000);
                    }
                    
                    changeImage();
                }, 2000);
            });
        }

        // Initialize cart
        Object.keys(products).forEach(productId => {
            cart[productId] = 0;
        });
        
        // Initialiser l'affichage des prix
            updateAllPrices();
            updateMinOrderText();
            updatePackPrices();
            
        // Initialize product image carousel
        initProductImageCarousel();

        // Fonction pour changer la devise
        function changeCurrency(currency) {
            console.log('Changement de devise vers:', currency);
            currentCurrency = currency;
            
            // Mettre à jour les sélecteurs de devise
            const desktopSelect = document.getElementById('currency-select');
            const mobileSelect = document.getElementById('currency-select-mobile');
            if (desktopSelect) desktopSelect.value = currency;
            if (mobileSelect) mobileSelect.value = currency;
            
            // Mettre à jour tous les prix affichés
            updateAllPrices();
            
            // Mettre à jour tous les totaux des produits sélectionnés
            Object.keys(cart).forEach(productId => {
                updateProductDisplay(productId);
            });
            
            // Mettre à jour le résumé de commande
            updateOrderSummary();
            
            // Mettre à jour le texte de commande minimum
            updateMinOrderText();
            
            // Mettre à jour la section paiement échelonné
            updateInstallmentSection();
            
            // Mettre à jour les prix des packs
            updatePackPrices();
        }
        
        // Fonction pour changer la langue
        function changeLanguage(language) {
            currentLanguage = language;
            document.documentElement.lang = language;
            
            // Sauvegarder la langue dans localStorage
            localStorage.setItem('selectedLanguage', language);
            
            // Mettre à jour tous les éléments avec data-translate
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[language] && translations[language][key]) {
                    element.textContent = translations[language][key];
                }
            });
            
            // Mettre à jour les placeholders
            const searchInput = document.getElementById('product-search');
            if (searchInput && translations[language].search_placeholder) {
                searchInput.placeholder = translations[language].search_placeholder;
            }
        }
        
        // Fonction pour changer le type de vente
        function setSaleType(type) {
            saleType = type;
            
            // Mettre à jour les boutons
            document.querySelectorAll('.sale-type-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-light-gold', 'text-white');
                btn.classList.add('bg-gray-200', 'text-gray-700');
            });
            
            if (type === 'retail') {
                document.getElementById('retail-btn').classList.add('active', 'bg-light-gold', 'text-white');
                document.getElementById('retail-btn').classList.remove('bg-gray-200', 'text-gray-700');
            } else {
                document.getElementById('wholesale-btn').classList.add('active', 'bg-light-gold', 'text-white');
                document.getElementById('wholesale-btn').classList.remove('bg-gray-200', 'text-gray-700');
            }
            
            // Réinitialiser le panier
            Object.keys(cart).forEach(productId => {
                cart[productId] = 0;
            });
            
            // Mettre à jour l'affichage des produits
            updateAllPrices(); // Mettre à jour les prix affichés
            updateAllProductsDisplay();
            updateOrderSummary();
            updateInstallmentSection();
            updateMinOrderText(); // Mettre à jour le texte de commande minimum
        }
        
        // Fonction pour mettre à jour la section paiement échelonné
        function updateInstallmentSection() {
            const installmentSection = document.getElementById('installment-section');
            const installmentCount = document.getElementById('installment-count');
            const installmentAmount = document.getElementById('installment-amount');
            
            if (saleType === 'wholesale') {
                installmentSection.style.display = 'block';
                
                // Calculer le total actuel
                let total = 0;
                Object.keys(cart).forEach(productId => {
                    if (cart[productId] > 0) {
                        if (saleType === 'wholesale') {
                            const basePrice = 6; // Prix fixe 6 DH/pièce
                            const pricePerPiece = basePrice * exchangeRates[currentCurrency];
                            total += cart[productId] * pricePerPiece;
                        } else {
                            const basePrice = products[productId].basePrice;
                            const pricePerGram = basePrice * exchangeRates[currentCurrency];
                            total += cart[productId] * pricePerGram;
                        }
                    }
                });
                
                // Mettre à jour le montant par échéance
                const count = parseInt(installmentCount.value) || 1;
                const amountPerInstallment = total / count;
                installmentAmount.textContent = `${amountPerInstallment.toFixed(2)} ${getCurrencySymbol()}`;
                
                // Écouter les changements du nombre d'échéances
                installmentCount.onchange = function() {
                    const newCount = parseInt(this.value) || 1;
                    const newAmount = total / newCount;
                    installmentAmount.textContent = `${newAmount.toFixed(2)} ${getCurrencySymbol()}`;
                };
            } else {
                installmentSection.style.display = 'none';
            }
        }

        // Fonction pour mettre à jour le texte de minimum de commande
        function updateMinOrderText() {
            const minOrderElement = document.getElementById('min-order-text');
            if (minOrderElement) {
                let minOrderAmount;
                let minOrderText;
                
                if (saleType === 'wholesale') {
                    minOrderAmount = 500 * exchangeRates[currentCurrency];
                    minOrderText = `Commande minimum : ${minOrderAmount.toFixed(2)} ${getCurrencySymbol()} (vente en gros)`;
                } else {
                    minOrderAmount = 100 * exchangeRates[currentCurrency];
                    minOrderText = `Commande minimum : ${minOrderAmount.toFixed(2)} ${getCurrencySymbol()} (50g minimum)`;
                }
                
                minOrderElement.textContent = minOrderText;
            }
        }

        // Fonction pour obtenir le prix dans la devise actuelle
        function getPrice(productId) {
            if (saleType === 'wholesale') {
                // Prix fixe de 6 DH/pièce pour la vente en gros
                const basePrice = 6; // Prix fixe 6 DH/pièce
                return basePrice * exchangeRates[currentCurrency];
            } else {
                // Prix par gramme pour la vente particulière
                const basePrice = products[productId].basePrice;
                return basePrice * exchangeRates[currentCurrency];
            }
        }

        // Fonction pour obtenir le symbole de la devise
        function getCurrencySymbol() {
            const symbols = {
                MAD: 'DH',
                EUR: '€',
                USD: '$'
            };
            return symbols[currentCurrency];
        }

        // Fonction pour mettre à jour tous les prix affichés
        function updateAllPrices() {
            const priceElements = document.querySelectorAll('.price-display');
            priceElements.forEach(element => {
                const productCard = element.closest('.product-card');
                if (productCard) {
                    const productName = productCard.getAttribute('data-product-name');
                    // Mapper les noms de produits aux IDs
                    let productId = '';
                    switch(productName) {
                        case 'amandes du maroc': productId = 'amandes'; break;
                        case 'noix de grenoble': productId = 'noix'; break;
                        case 'dattes medjool': productId = 'dattes'; break;
                        case 'noix de cajou': productId = 'cajou'; break;
                        case 'raisins secs': productId = 'raisins'; break;
                        case 'mélange premium': productId = 'melange'; break;
                    }
                    
                    if (productId && products[productId]) {
                        if (saleType === 'wholesale') {
                            // Prix fixe de 6 DH/pièce pour la vente en gros
                            const basePrice = 6; // Prix fixe 6 DH/pièce
                            const convertedPrice = basePrice * exchangeRates[currentCurrency];
                            element.textContent = `${convertedPrice.toFixed(2)} ${getCurrencySymbol()}/pièce`;
                        } else {
                            // Prix par gramme pour la vente particulière
                            const basePrice = products[productId].basePrice;
                            const convertedPrice = basePrice * exchangeRates[currentCurrency];
                            element.textContent = `${convertedPrice.toFixed(2)} ${getCurrencySymbol()}/g`;
                        }
                    }
                }
            });
        }

        function increaseQuantity(productId) {
            if (saleType === 'wholesale') {
                cart[productId] += 1; // Incrémenter par 1 pièce
            } else {
                cart[productId] += 10; // Incrémenter par 10g
            }
            updateProductDisplay(productId);
            updateOrderSummary();
        }

        function decreaseQuantity(productId) {
            if (saleType === 'wholesale') {
                if (cart[productId] >= 1) {
                    cart[productId] -= 1; // Décrémenter par 1 pièce
                }
            } else {
                if (cart[productId] >= 10) {
                    cart[productId] -= 10; // Décrémenter par 10g
                }
            }
            updateProductDisplay(productId);
            updateOrderSummary();
        }

        function updateQuantity(productId, value) {
            const quantity = parseInt(value) || 0;
            cart[productId] = Math.max(0, quantity);
            updateProductDisplay(productId);
            updateOrderSummary();
        }

        // Function to set suggested quantity
        function setSuggestedQuantity(productId, quantity) {
            cart[productId] = quantity;
            updateProductDisplay(productId);
            updateOrderSummary();
        }

        function updateProductDisplay(productId) {
            const qtyElement = document.getElementById(`${productId}-qty`);
            const totalElement = document.getElementById(`${productId}-total`);
            
            qtyElement.value = cart[productId];
            
            if (saleType === 'wholesale') {
                // Vente en gros : prix fixe de 6 DH/pièce
                const basePrice = 6; // Prix fixe 6 DH/pièce
                const pricePerPiece = basePrice * exchangeRates[currentCurrency];
                const total = cart[productId] * pricePerPiece;
                totalElement.textContent = `${total.toFixed(2)} ${getCurrencySymbol()}`;
            } else {
                // Vente particulière : prix par gramme
                const basePrice = 2; // Prix de base 2 DH/g
                const pricePerGram = basePrice * exchangeRates[currentCurrency];
                const total = cart[productId] * pricePerGram;
                totalElement.textContent = `${total.toFixed(2)} ${getCurrencySymbol()}`;
            }
        }
        
        // Fonction pour mettre à jour l'affichage de tous les produits
        function updateAllProductsDisplay() {
            Object.keys(products).forEach(productId => {
                updateProductDisplay(productId);
            });
        }

        function updateOrderSummary() {
            const orderSummary = document.getElementById('order-summary');
            const grandTotalElement = document.getElementById('grand-total');
            const whatsappButton = document.getElementById('whatsapp-order');
            
            let total = 0;
            let hasItems = false;
            
            orderSummary.innerHTML = '';
            
            Object.keys(cart).forEach(productId => {
                if (cart[productId] > 0) {
                    hasItems = true;
                    const product = products[productId];
                    let subtotal = 0;
                    let quantityText = '';

                    if (saleType === 'wholesale') {
                        // Vente en gros : prix fixe de 6 DH/pièce
                        const basePrice = 6; // Prix fixe 6 DH/pièce
                        const pricePerPiece = basePrice * exchangeRates[currentCurrency];
                        subtotal = cart[productId] * pricePerPiece;
                        quantityText = `x${cart[productId]} pièce${cart[productId] > 1 ? 's' : ''}`;
                    } else {
                        // Vente particulière : prix par gramme
                        const basePrice = 2; // Prix de base 2 DH/g
                        const pricePerGram = basePrice * exchangeRates[currentCurrency];
                        subtotal = cart[productId] * pricePerGram;
                        quantityText = `x${cart[productId]}g`;
                    }
                    
                    total += subtotal;

                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'flex justify-between items-center py-2 border-b border-gray-200';
                    itemDiv.innerHTML = `
                        <div>
                            <span class="font-semibold">${product.name}</span>
                            <span class="text-gray-600 ml-2">${quantityText}</span>
                        </div>
                        <span class="font-bold text-warm-brown">${subtotal.toFixed(2)} ${getCurrencySymbol()}</span>
                    `;
                    orderSummary.appendChild(itemDiv);
                }
            });
            
            if (!hasItems) {
                orderSummary.innerHTML = '<p class="text-gray-500 text-center py-4">Aucun produit sélectionné</p>';
            }
            
            grandTotalElement.textContent = `${total.toFixed(2)} ${getCurrencySymbol()}`;
            
            // Debug: forcer la mise à jour du total général
            console.log('Total calculé:', total, 'Devise:', currentCurrency, 'Symbole:', getCurrencySymbol());
            
            // Vérifier si le formulaire est valide
            const form = document.getElementById('customer-form');
            const isFormValid = form.checkValidity();
            
            // Seuils différents selon le type de vente
            let minOrderAmount;
            if (saleType === 'wholesale') {
                minOrderAmount = 500 * exchangeRates[currentCurrency]; // 500 DH pour vente en gros
            } else {
                minOrderAmount = 100 * exchangeRates[currentCurrency]; // 100 DH pour vente particulière
            }
            
            whatsappButton.disabled = !hasItems || total < minOrderAmount || !isFormValid;
            
            // Mettre à jour la section paiement échelonné
            updateInstallmentSection();
        }

        function sendToWhatsApp() {
            // Vérifier que le formulaire est valide
            const form = document.getElementById('customer-form');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }
            
            // Récupérer les informations du client
            const customerName = document.getElementById('customer-name').value;
            const customerEmail = document.getElementById('customer-email').value;
            const customerPhone = document.getElementById('customer-phone').value;
            const deliveryDate = document.getElementById('delivery-date').value;
            const deliveryAddress = document.getElementById('delivery-address').value;
            const deliveryNotes = document.getElementById('delivery-notes').value;
            
            let message = "🌰 *Commande BeldiNuts*\n\n";
            message += "Bonjour ! Je souhaite commander les produits suivants :\n\n";
            
            let total = 0;
            let hasItems = false;
            
            Object.keys(cart).forEach(productId => {
                if (cart[productId] > 0) {
                    hasItems = true;
                    const product = products[productId];
                    let subtotal = 0;
                    let quantityText = '';

                    if (saleType === 'wholesale') {
                        // Vente en gros : prix fixe de 6 DH/pièce
                        const basePrice = 6; // Prix fixe 6 DH/pièce
                        const pricePerPiece = basePrice * exchangeRates[currentCurrency];
                        subtotal = cart[productId] * pricePerPiece;
                        quantityText = `${cart[productId]} pièce${cart[productId] > 1 ? 's' : ''}`;
                    } else {
                        // Vente particulière : prix par gramme
                        const basePrice = 2; // Prix de base 2 DH/g
                        const pricePerGram = basePrice * exchangeRates[currentCurrency];
                        subtotal = cart[productId] * pricePerGram;
                        quantityText = `${cart[productId]}g`;
                    }
                    
                    total += subtotal;
                    message += `• ${product.name}: ${quantityText} (${subtotal.toFixed(2)} ${getCurrencySymbol()})\n`;
                }
            });
            
            if (hasItems) {
                message += `\n*Total: ${total.toFixed(2)} ${getCurrencySymbol()}*\n\n`;
                
                // Ajouter les détails du paiement échelonné si vente en gros
                if (saleType === 'wholesale') {
                    const installmentCount = document.getElementById('installment-count').value;
                    const installmentAmount = document.getElementById('installment-amount').textContent;
                    
                    message += "*💳 Paiement Échelonné :*\n";
                    message += `📊 Nombre d'échéances: ${installmentCount}\n`;
                    message += `💰 Montant par échéance: ${installmentAmount}\n\n`;
                }
                
                message += "*Informations de livraison :*\n";
                message += `👤 Nom: ${customerName}\n`;
                message += `📧 Email: ${customerEmail}\n`;
                message += `📱 Téléphone: ${customerPhone}\n`;
                message += `📅 Date souhaitée: ${deliveryDate}\n`;
                message += `📍 Adresse: ${deliveryAddress}\n`;
                if (deliveryNotes.trim()) {
                    message += `📝 Notes: ${deliveryNotes}\n`;
                }
                message += `\nMerci de me confirmer la disponibilité et les modalités de livraison.`;
                
                const phoneNumber = "212615919437";
                const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            }
        }

        // Fonction pour filtrer les produits
        function filterProducts(searchTerm) {
            const products = document.querySelectorAll('.product-card');
            const searchTermLower = searchTerm.toLowerCase().trim();
            const clearButton = document.getElementById('clear-search');
            
            // Afficher/masquer le bouton de suppression
            if (searchTermLower.length > 0) {
                clearButton.classList.remove('hidden');
            } else {
                clearButton.classList.add('hidden');
            }
            
            let visibleCount = 0;
            
            products.forEach(product => {
                const productName = product.getAttribute('data-product-name').toLowerCase();
                const productTitle = product.querySelector('h3').textContent.toLowerCase();
                
                if (productName.includes(searchTermLower) || productTitle.includes(searchTermLower)) {
                    product.style.display = 'block';
                    product.style.animation = 'fadeIn 0.3s ease-in';
                    visibleCount++;
                } else {
                    product.style.display = 'none';
                }
            });
            
            // Afficher un message si aucun produit trouvé
            showNoResultsMessage(visibleCount === 0 && searchTermLower.length > 0);
        }
        
        // Fonction pour effacer la recherche
        function clearSearch() {
            const searchInput = document.getElementById('product-search');
            searchInput.value = '';
            filterProducts('');
        }
        
        // Fonction pour afficher le message "aucun résultat"
        function showNoResultsMessage(show) {
            let noResultsMsg = document.getElementById('no-results-message');
            
            if (show && !noResultsMsg) {
                noResultsMsg = document.createElement('div');
                noResultsMsg.id = 'no-results-message';
                noResultsMsg.className = 'col-span-full text-center py-12';
                noResultsMsg.innerHTML = `
                    <div class="text-gray-500">
                        <i class="fas fa-search text-4xl mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2">Aucun produit trouvé</h3>
                        <p>Essayez avec d'autres mots-clés comme "amandes", "noix", "dattes"...</p>
                    </div>
                `;
                document.getElementById('products-grid').appendChild(noResultsMsg);
            } else if (!show && noResultsMsg) {
                noResultsMsg.remove();
            }
        }

        // Fonction pour basculer le menu mobile
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            const toggleButton = document.getElementById('mobile-menu-toggle');
            const icon = toggleButton.querySelector('i');
            
            if (mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.remove('hidden');
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-times');
            } else {
                mobileMenu.classList.add('hidden');
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            }
        }

        // Fonction pour ouvrir le modal des détails du produit
        function openProductModal(productId) {
            const modal = document.getElementById('product-modal');
            const product = productDetails[productId];
            
            if (!product) return;
            
            // Mettre à jour le contenu du modal
            document.getElementById('modal-title').textContent = 'Détails du Produit';
            document.getElementById('modal-product-name').textContent = product.name;
            document.getElementById('modal-description').textContent = product.description;
            document.getElementById('modal-image').style.backgroundImage = `url('${product.image}')`;
            
            // Mettre à jour le prix
            let basePrice, unit;
            if (saleType === 'wholesale') {
                basePrice = 6; // Prix fixe 6 DH/pièce
                unit = 'pièce';
            } else {
                basePrice = products[productId].basePrice || 2;
                unit = 'g';
            }
            const convertedPrice = basePrice * exchangeRates[currentCurrency];
            document.getElementById('modal-price').textContent = `${convertedPrice.toFixed(2)} ${getCurrencySymbol()}/${unit}`;
            
            // Mettre à jour les bienfaits
            const benefitsList = document.getElementById('modal-benefits');
            benefitsList.innerHTML = '';
            product.benefits.forEach(benefit => {
                const li = document.createElement('li');
                li.className = 'flex items-start';
                li.innerHTML = `<i class="fas fa-check text-green-500 mr-2 mt-1"></i><span>${benefit}</span>`;
                benefitsList.appendChild(li);
            });
            
            // Mettre à jour les conseils d'utilisation
            const usageList = document.getElementById('modal-usage');
            usageList.innerHTML = '';
            product.usage.forEach(usage => {
                const li = document.createElement('li');
                li.className = 'flex items-start';
                li.innerHTML = `<i class="fas fa-star text-yellow-500 mr-2 mt-1"></i><span>${usage}</span>`;
                usageList.appendChild(li);
            });
            
            // Mettre à jour les conseils de conservation
            document.getElementById('modal-storage').textContent = product.storage;
            
            // Afficher le modal
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Empêcher le scroll de la page
        }

        // Fonction pour fermer le modal
        function closeProductModal() {
            const modal = document.getElementById('product-modal');
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto'; // Restaurer le scroll de la page
        }

        // Fermer le modal en cliquant sur le fond
        document.getElementById('product-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeProductModal();
            }
        });

        // Fermer le modal avec la touche Escape
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeProductModal();
            }
        });

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            updateOrderSummary();
            
            // Charger la langue sauvegardée
            const savedLanguage = localStorage.getItem('selectedLanguage');
            if (savedLanguage && translations[savedLanguage]) {
                currentLanguage = savedLanguage;
                document.documentElement.lang = savedLanguage;
                
                // Mettre à jour les sélecteurs de langue
                const desktopLangSelect = document.getElementById('language-select');
                const mobileLangSelect = document.getElementById('language-select-mobile');
                
                if (desktopLangSelect) desktopLangSelect.value = savedLanguage;
                if (mobileLangSelect) mobileLangSelect.value = savedLanguage;
                
                // Appliquer les traductions
                document.querySelectorAll('[data-translate]').forEach(element => {
                    const key = element.getAttribute('data-translate');
                    if (translations[savedLanguage] && translations[savedLanguage][key]) {
                        element.textContent = translations[savedLanguage][key];
                    }
                });
                
                // Mettre à jour les placeholders
                const searchInput = document.getElementById('product-search');
                if (searchInput && translations[savedLanguage].search_placeholder) {
                    searchInput.placeholder = translations[savedLanguage].search_placeholder;
                }
            }
            
            // Définir la date minimum pour la livraison (aujourd'hui)
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('delivery-date').min = today;
            
            // Ajouter des écouteurs d'événements pour le formulaire
            const form = document.getElementById('customer-form');
            form.addEventListener('input', updateOrderSummary);
            form.addEventListener('change', updateOrderSummary);
            
            // Synchroniser les sélecteurs de langue
            const desktopLangSelect = document.getElementById('language-select');
            const mobileLangSelect = document.getElementById('language-select-mobile');
            
            if (desktopLangSelect && mobileLangSelect) {
                desktopLangSelect.addEventListener('change', function() {
                    mobileLangSelect.value = this.value;
                });
                
                mobileLangSelect.addEventListener('change', function() {
                    desktopLangSelect.value = this.value;
                });
            }
            
            // Synchroniser les sélecteurs de devise
            const desktopCurrencySelect = document.getElementById('currency-select');
            const mobileCurrencySelect = document.getElementById('currency-select-mobile');
            
            if (desktopCurrencySelect && mobileCurrencySelect) {
                desktopCurrencySelect.addEventListener('change', function() {
                    mobileCurrencySelect.value = this.value;
                });
                
                mobileCurrencySelect.addEventListener('change', function() {
                    desktopCurrencySelect.value = this.value;
                });
            }
        });

        // Cart functionality
        // Toggle cart modal
        function toggleCartModal() {
            const cartModal = document.getElementById('cart-modal');
            if (cartModal.classList.contains('hidden')) {
                openCartModal();
            } else {
                closeCartModal();
            }
        }

        // Open cart modal
        function openCartModal() {
            const cartModal = document.getElementById('cart-modal');
            updateCartDisplay();
            cartModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // Close cart modal
        function closeCartModal() {
            const cartModal = document.getElementById('cart-modal');
            cartModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Update cart display
        function updateCartDisplay() {
            const cartItemsContainer = document.getElementById('cart-items');
            const cartTotalElement = document.getElementById('cart-total');
            const cartCountElement = document.getElementById('cart-count');
            const cartCountMobileElement = document.getElementById('cart-count-mobile');
            
            let total = 0;
            let itemCount = 0;
            let hasItems = false;
            
            cartItemsContainer.innerHTML = '';
            
            // Display cart items
            Object.keys(cart).forEach(productId => {
                if (cart[productId] > 0) {
                    hasItems = true;
                    const product = products[productId];
                    let subtotal = 0;
                    let quantityText = '';

                    if (saleType === 'wholesale') {
                        const basePrice = 6;
                        const pricePerPiece = basePrice * exchangeRates[currentCurrency];
                        subtotal = cart[productId] * pricePerPiece;
                        quantityText = `${cart[productId]} pièce${cart[productId] > 1 ? 's' : ''}`;
                    } else {
                        const basePrice = product.basePrice;
                        const pricePerGram = basePrice * exchangeRates[currentCurrency];
                        subtotal = cart[productId] * pricePerGram;
                        quantityText = `${cart[productId]}g`;
                    }
                    
                    total += subtotal;
                    itemCount += cart[productId];

                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'flex justify-between items-center py-3 border-b border-gray-200';
                    itemDiv.innerHTML = `
                        <div class="flex-1">
                            <h4 class="font-semibold text-warm-brown">${product.name}</h4>
                            <p class="text-sm text-gray-600">${quantityText}</p>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="font-bold text-warm-brown">${subtotal.toFixed(2)} ${getCurrencySymbol()}</span>
                            <button onclick="removeFromCart('${productId}')" class="text-red-500 hover:text-red-700 p-1">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    `;
                    cartItemsContainer.appendChild(itemDiv);
                }
            });
            
            if (!hasItems) {
                cartItemsContainer.innerHTML = `
                    <div class="text-center py-8">
                        <i class="fas fa-shopping-cart text-4xl text-gray-300 mb-4"></i>
                        <p class="text-gray-500 text-lg" data-translate="empty_cart">Votre panier est vide</p>
                        <p class="text-gray-400" data-translate="add_items">Ajoutez des produits pour commencer</p>
                    </div>
                `;
            }
            
            cartTotalElement.textContent = `${total.toFixed(2)} ${getCurrencySymbol()}`;
            cartCountElement.textContent = itemCount;
            if (cartCountMobileElement) {
                cartCountMobileElement.textContent = itemCount;
            }
        }

        // Remove from cart
        function removeFromCart(productId) {
            cart[productId] = 0;
            updateCartDisplay();
            updateAllProductsDisplay();
            updateOrderSummary();
        }

        // Order via WhatsApp from cart
        function orderViaWhatsApp() {
            let hasItems = false;
            Object.keys(cart).forEach(productId => {
                if (cart[productId] > 0) {
                    hasItems = true;
                }
            });
            
            if (!hasItems) {
                alert('Votre panier est vide. Ajoutez des produits avant de commander.');
                return;
            }
            
            // Récupérer les informations du client
            const customerName = document.getElementById('customer-name').value;
            const customerEmail = document.getElementById('customer-email').value;
            const customerPhone = document.getElementById('customer-phone').value;
            const deliveryDate = document.getElementById('delivery-date').value;
            const deliveryAddress = document.getElementById('delivery-address').value;
            const deliveryNotes = document.getElementById('delivery-notes').value;
            
            let message = "🛒 *Commande BeldiNuts - Panier*\n\n";
            message += "Bonjour ! Je souhaite commander les produits suivants :\n\n";
            
            let total = 0;
            Object.keys(cart).forEach(productId => {
                if (cart[productId] > 0) {
                    const product = products[productId];
                    let subtotal = 0;
                    let quantityText = '';

                    if (saleType === 'wholesale') {
                        const basePrice = 6;
                        const pricePerPiece = basePrice * exchangeRates[currentCurrency];
                        subtotal = cart[productId] * pricePerPiece;
                        quantityText = `${cart[productId]} pièce${cart[productId] > 1 ? 's' : ''}`;
                    } else {
                        const basePrice = product.basePrice;
                        const pricePerGram = basePrice * exchangeRates[currentCurrency];
                        subtotal = cart[productId] * pricePerGram;
                        quantityText = `${cart[productId]}g`;
                    }
                    
                    total += subtotal;
                    message += `• ${product.name}: ${quantityText} (${subtotal.toFixed(2)} ${getCurrencySymbol()})\n`;
                }
            });
            
            message += `\n*Total: ${total.toFixed(2)} ${getCurrencySymbol()}*\n\n`;
            
            // Ajouter les détails du paiement échelonné si vente en gros
            if (saleType === 'wholesale') {
                const installmentCount = document.getElementById('installment-count').value;
                const installmentAmount = document.getElementById('installment-amount').textContent;
                
                message += "*💳 Paiement Échelonné :*\n";
                message += `📊 Nombre d'échéances: ${installmentCount}\n`;
                message += `💰 Montant par échéance: ${installmentAmount}\n\n`;
            }
            
            message += "*Informations de livraison :*\n";
            message += `👤 Nom: ${customerName}\n`;
            message += `📧 Email: ${customerEmail}\n`;
            message += `📱 Téléphone: ${customerPhone}\n`;
            message += `📅 Date souhaitée: ${deliveryDate}\n`;
            message += `📍 Adresse: ${deliveryAddress}\n`;
            if (deliveryNotes.trim()) {
                message += `📝 Notes: ${deliveryNotes}\n`;
            }
            message += `\nMerci de me confirmer la disponibilité et les modalités de livraison.`;
            
            const phoneNumber = "212615919437";
            const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        // Pack functions
        function addPackToCart(packId) {
            const pack = packs[packId];
            if (!pack) return;
            
            // Ajouter chaque produit du pack au panier
            Object.keys(pack.products).forEach(productId => {
                cart[productId] += pack.products[productId];
            });
            
            // Mettre à jour l'affichage
            updateAllProductsDisplay();
            updateOrderSummary();
            
            // Afficher une notification
            showPackAddedNotification(pack.name);
        }
        
        function showPackAddedNotification(packName) {
            // Créer une notification temporaire
            const notification = document.createElement('div');
            notification.className = 'fixed top-20 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transform translate-x-full transition-transform duration-300';
            notification.innerHTML = `
                <div class="flex items-center">
                    <i class="fas fa-check-circle mr-2"></i>
                    <span>Pack "${packName}" ajouté au panier !</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Animer l'apparition
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
            }, 100);
            
            // Supprimer après 3 secondes
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
        
        function updatePackPrices() {
            const packPriceElements = document.querySelectorAll('.pack-price');
            packPriceElements.forEach(element => {
                const packCard = element.closest('.pack-card');
                const packId = packCard.getAttribute('data-pack-id');
                const pack = packs[packId];
                
                if (pack) {
                    const convertedPrice = pack.price * exchangeRates[currentCurrency];
                    const convertedOriginalPrice = pack.originalPrice * exchangeRates[currentCurrency];
                    
                    element.textContent = `${convertedPrice.toFixed(2)} ${getCurrencySymbol()}`;
                    
                    // Mettre à jour le prix barré
                    const originalPriceElement = element.nextElementSibling;
                    if (originalPriceElement) {
                        originalPriceElement.textContent = `${convertedOriginalPrice.toFixed(2)} ${getCurrencySymbol()}`;
                    }
                }
            });
        }
    </script>

    <!-- Footer -->
    <footer id="contact" class="bg-gray-900 text-white py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center mb-4">
                        <img src="beldi-nuts-logo.png" alt="BeldiNuts Logo" class="h-8 w-8 mr-3">
                        <h3 class="text-2xl font-bold text-light-gold">Notre Marque</h3>
                    </div>
                    <p class="text-gray-300 mb-4">
                        Votre partenaire pour une alimentation saine et naturelle. 
                        Des produits d'exception directement du Maroc.
                    </p>
                    <div class="flex space-x-4">
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https://beldinuts.ma/commander.html" target="_blank" class="text-gray-300 hover:text-light-gold transition-colors">
                            <i class="fab fa-facebook text-xl"></i>
                        </a>
                        <a href="https://www.instagram.com/beldinuts" target="_blank" class="text-gray-300 hover:text-light-gold transition-colors">
                            <i class="fab fa-instagram text-xl"></i>
                        </a>
                        <a href="https://twitter.com/intent/tweet?url=https://beldinuts.ma/commander.html&text=Commandez vos noix et fruits secs premium du Maroc avec BeldiNuts" target="_blank" class="text-gray-300 hover:text-light-gold transition-colors">
                            <i class="fab fa-twitter text-xl"></i>
                        </a>
                        <a href="https://wa.me/?text=Découvrez BeldiNuts - Noix et fruits secs premium du Maroc: https://beldinuts.ma/commander.html" target="_blank" class="text-gray-300 hover:text-light-gold transition-colors">
                            <i class="fab fa-whatsapp text-xl"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4">Produits</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-300 hover:text-light-gold transition-colors">Amandes</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-light-gold transition-colors">Noix</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-light-gold transition-colors">Dattes</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-light-gold transition-colors">Fruits Secs</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4">Informations</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-300 hover:text-light-gold transition-colors">À propos</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-light-gold transition-colors">Livraison</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-light-gold transition-colors">Retours</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-light-gold transition-colors">FAQ</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4">Contact</h4>
                    <div class="space-y-2">
                        <div class="flex items-center">
                            <i class="fas fa-map-marker-alt text-light-gold mr-2"></i>
                            <span class="text-gray-300">Casablanca, Maroc</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-phone text-light-gold mr-2"></i>
                            <span class="text-gray-300">+212 5XX XXX XXX</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-envelope text-light-gold mr-2"></i>
                            <span class="text-gray-300">contact@beldinuts.ma</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-12 pt-8 text-center">
                <p class="text-gray-300">
                    © 2024 BeldiNuts. Tous droits réservés. | 
                    <a href="#" class="hover:text-light-gold transition-colors">Mentions légales</a> | 
                    <a href="#" class="hover:text-light-gold transition-colors">Politique de confidentialité</a>
                </p>
            </div>
        </div>
    </footer>

    <!-- Product Details Modal -->
    <div id="product-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center">
                <h2 id="modal-title" class="text-2xl font-bold text-warm-brown">Détails du Produit</h2>
                <button onclick="closeProductModal()" class="text-gray-500 hover:text-warm-brown text-2xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="p-6">
                <div class="grid md:grid-cols-2 gap-8">
                    <!-- Product Image -->
                    <div>
                        <div id="modal-image" class="h-64 md:h-80 bg-cover bg-center rounded-xl mb-4"></div>
                        <div class="text-center">
                            <span id="modal-price" class="text-3xl font-bold text-warm-brown">2.00 DH/g</span>
                        </div>
                    </div>
                    
                    <!-- Product Details -->
                    <div>
                        <h3 id="modal-product-name" class="text-2xl font-bold text-warm-brown mb-4">Nom du Produit</h3>
                        <p id="modal-description" class="text-gray-600 mb-6">Description du produit...</p>
                        
                        <!-- Nutritional Benefits -->
                        <div class="mb-6">
                            <h4 class="text-lg font-semibold text-warm-brown mb-3">
                                <i class="fas fa-heart text-red-500 mr-2"></i>
                                Bienfaits Nutritionnels
                            </h4>
                            <ul id="modal-benefits" class="space-y-2 text-gray-700">
                                <!-- Benefits will be populated by JavaScript -->
                            </ul>
                        </div>
                        
                        <!-- Usage Tips -->
                        <div class="mb-6">
                            <h4 class="text-lg font-semibold text-warm-brown mb-3">
                                <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                                Conseils d'Utilisation
                            </h4>
                            <ul id="modal-usage" class="space-y-2 text-gray-700">
                                <!-- Usage tips will be populated by JavaScript -->
                            </ul>
                        </div>
                        
                        <!-- Storage Tips -->
                        <div class="mb-6">
                            <h4 class="text-lg font-semibold text-warm-brown mb-3">
                                <i class="fas fa-archive text-blue-500 mr-2"></i>
                                Conservation
                            </h4>
                            <p id="modal-storage" class="text-gray-700">Conseils de conservation...</p>
                        </div>
                        
                        <!-- Action Buttons -->
                        <div class="flex justify-center">
                            <button onclick="closeProductModal()" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-3 px-8 rounded-full transition-colors">
                                Fermer
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cart-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center">
                <h2 class="text-2xl font-bold text-warm-brown" data-translate="cart_title">Mon Panier</h2>
                <button onclick="closeCartModal()" class="text-gray-500 hover:text-warm-brown text-2xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="p-6">
                <div id="cart-items" class="space-y-4 mb-6">
                    <!-- Cart items will be populated here -->
                </div>
                
                <div class="border-t pt-6">
                    <div class="flex justify-between items-center mb-6">
                        <span class="text-xl font-bold text-warm-brown" data-translate="cart_total">Total:</span>
                        <span id="cart-total" class="text-2xl font-bold text-warm-brown">0 DH</span>
                    </div>
                    
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button onclick="closeCartModal()" class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-3 px-6 rounded-full transition-colors">
                            <i class="fas fa-arrow-left mr-2"></i>
                            <span data-translate="continue_shopping">Continuer les achats</span>
                        </button>
                        <button onclick="orderViaWhatsApp()" class="flex-1 bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-6 rounded-full transition-colors">
                            <i class="fab fa-whatsapp mr-2"></i>
                            <span data-translate="order_whatsapp">Commander via WhatsApp</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
